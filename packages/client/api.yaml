components:
  schemas:
    Avatar:
      properties:
        large:
          type: string
        medium:
          example: sai
          type: string
        small:
          type: string
      required:
        - small
        - medium
        - large
      title: Avatar
      type: object
    BlogEntry:
      properties:
        content:
          type: string
        createdAt:
          type: integer
        icon:
          type: string
        id:
          type: integer
        noreply:
          type: integer
        public:
          type: boolean
        related:
          type: integer
        replies:
          type: integer
        tags:
          items:
            type: string
          type: array
        title:
          type: string
        type:
          type: integer
        updatedAt:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
        views:
          type: integer
      required:
        - id
        - type
        - user
        - title
        - icon
        - content
        - tags
        - views
        - replies
        - createdAt
        - updatedAt
        - noreply
        - related
        - public
      title: BlogEntry
      type: object
    BlogPhoto:
      properties:
        createdAt:
          type: integer
        icon:
          type: string
        id:
          type: integer
        target:
          type: string
        vote:
          type: integer
      required:
        - id
        - target
        - icon
        - vote
        - createdAt
      title: BlogPhoto
      type: object
    Calendar:
      additionalProperties:
        items:
          properties:
            subject:
              $ref: '#/components/schemas/SlimSubject'
            watchers:
              type: integer
          required:
            - subject
            - watchers
          type: object
        type: array
      type: object
    CalendarItem:
      properties:
        subject:
          $ref: '#/components/schemas/SlimSubject'
        watchers:
          type: integer
      required:
        - subject
        - watchers
      type: object
    Character:
      properties:
        collectedAt:
          type: integer
        collects:
          type: integer
        comment:
          type: integer
        id:
          type: integer
        images:
          $ref: '#/components/schemas/PersonImages'
        infobox:
          $ref: '#/components/schemas/Infobox'
        lock:
          type: boolean
        name:
          type: string
        nameCN:
          type: string
        nsfw:
          type: boolean
        redirect:
          type: integer
        role:
          type: integer
        summary:
          type: string
      required:
        - id
        - name
        - nameCN
        - role
        - infobox
        - summary
        - comment
        - collects
        - lock
        - redirect
        - nsfw
      title: Character
      type: object
    CharacterRelation:
      properties:
        character:
          $ref: '#/components/schemas/SlimCharacter'
        relation:
          description: 'è§’è‰²å…³ç³»: ä»»èŒäº,ä»å±,è˜ç”¨,å«ç»™...'
          type: integer
      required:
        - character
        - relation
      type: object
    CharacterSubject:
      properties:
        actors:
          items:
            $ref: '#/components/schemas/SlimPerson'
          type: array
        subject:
          $ref: '#/components/schemas/SlimSubject'
        type:
          type: integer
      required:
        - subject
        - actors
        - type
      type: object
    CharacterSubjectRelation:
      properties:
        subject:
          $ref: '#/components/schemas/SlimSubject'
        type:
          type: integer
      required:
        - subject
        - type
      type: object
    CollectionType:
      description: |-
        æ¡ç›®æ”¶è—çŠ¶æ€
          - 1 = æƒ³çœ‹
          - 2 = çœ‹è¿‡
          - 3 = åœ¨çœ‹
          - 4 = æç½®
          - 5 = æŠ›å¼ƒ
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
      type: integer
      x-enum-varnames:
        - Wish
        - Collect
        - Doing
        - OnHold
        - Dropped
      x-ms-enum:
        modelAsString: false
        name: CollectionType
    CreateEpisodeComment:
      properties:
        content:
          minLength: 1
          type: string
        replyTo:
          default: 0
          description: è¢«å›å¤çš„åæ§½ ID, `0` ä»£è¡¨å‘é€é¡¶å±‚åæ§½
          type: integer
        turnstileToken:
          description: >-
            éœ€è¦
            [turnstile](https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/)

            next.bgm.tv åŸŸåå¯¹åº”çš„ site-key ä¸º `0x4AAAAAAABkMYinukE8nzYS`

            dev.bgm38.tv åŸŸåä½¿ç”¨æµ‹è¯•ç”¨çš„ site-key `1x00000000000000000000AA`
          minLength: 1
          type: string
      required:
        - content
        - turnstileToken
      type: object
    CreatePost:
      properties:
        content:
          minLength: 1
          type: string
        replyTo:
          default: 0
          description: è¢«å›å¤çš„å¸–å­ ID, `0` ä»£è¡¨å›å¤æ¥¼ä¸»
          type: integer
        turnstileToken:
          description: >-
            éœ€è¦
            [turnstile](https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/)

            next.bgm.tv åŸŸåå¯¹åº”çš„ site-key ä¸º `0x4AAAAAAABkMYinukE8nzYS`

            dev.bgm38.tv åŸŸåä½¿ç”¨æµ‹è¯•ç”¨çš„ site-key `1x00000000000000000000AA`
          minLength: 1
          type: string
      required:
        - content
        - turnstileToken
      type: object
    CreateTimelineSay:
      properties:
        content:
          minLength: 1
          type: string
        turnstileToken:
          description: >-
            éœ€è¦
            [turnstile](https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/)

            next.bgm.tv åŸŸåå¯¹åº”çš„ site-key ä¸º `0x4AAAAAAABkMYinukE8nzYS`

            dev.bgm38.tv åŸŸåä½¿ç”¨æµ‹è¯•ç”¨çš„ site-key `1x00000000000000000000AA`
          minLength: 1
          type: string
      required:
        - content
        - turnstileToken
      type: object
    CreateTopic:
      example:
        content: topic content
        title: topic title
        turnstileToken: 10000000-aaaa-bbbb-cccc-000000000001
      properties:
        content:
          description: bbcode
          minLength: 1
          type: string
        title:
          minLength: 1
          type: string
        turnstileToken:
          description: >-
            éœ€è¦
            [turnstile](https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/)

            next.bgm.tv åŸŸåå¯¹åº”çš„ site-key ä¸º `0x4AAAAAAABkMYinukE8nzYS`

            dev.bgm38.tv åŸŸåä½¿ç”¨æµ‹è¯•ç”¨çš„ site-key `1x00000000000000000000AA`
          type: string
      required:
        - title
        - content
        - turnstileToken
      type: object
    Episode:
      properties:
        airdate:
          type: string
        comment:
          type: integer
        desc:
          type: string
        disc:
          type: integer
        duration:
          type: string
        id:
          type: integer
        name:
          type: string
        nameCN:
          type: string
        sort:
          type: number
        status:
          $ref: '#/components/schemas/EpisodeCollectionStatus'
        subject:
          $ref: '#/components/schemas/SlimSubject'
        subjectID:
          type: integer
        type:
          $ref: '#/components/schemas/EpisodeType'
      required:
        - id
        - sort
        - type
        - disc
        - name
        - nameCN
        - duration
        - airdate
        - comment
        - subjectID
      title: Episode
      type: object
    EpisodeCollectionStatus:
      description: |-
        å‰§é›†æ”¶è—çŠ¶æ€
          - 0 = æ’¤æ¶ˆ/åˆ é™¤
          - 1 = æƒ³çœ‹
          - 2 = çœ‹è¿‡
          - 3 = æŠ›å¼ƒ
      enum:
        - 0
        - 1
        - 2
        - 3
      type: integer
      x-enum-varnames:
        - None
        - Wish
        - Done
        - Dropped
      x-ms-enum:
        modelAsString: false
        name: EpisodeCollectionStatus
    EpisodeCommentBase:
      properties:
        content:
          type: string
        createdAt:
          type: integer
        creatorID:
          type: integer
        epID:
          type: integer
        id:
          type: integer
        reactions:
          items:
            $ref: '#/components/schemas/Reaction'
          type: array
        relatedID:
          type: integer
        state:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - id
        - epID
        - creatorID
        - relatedID
        - createdAt
        - content
        - state
      type: object
    EpisodeComments:
      allOf:
        - properties:
            content:
              type: string
            createdAt:
              type: integer
            creatorID:
              type: integer
            epID:
              type: integer
            id:
              type: integer
            reactions:
              items:
                $ref: '#/components/schemas/Reaction'
              type: array
            relatedID:
              type: integer
            state:
              type: integer
            user:
              $ref: '#/components/schemas/SlimUser'
          required:
            - id
            - epID
            - creatorID
            - relatedID
            - createdAt
            - content
            - state
          type: object
        - properties:
            replies:
              items:
                $ref: '#/components/schemas/EpisodeCommentBase'
              type: array
          required:
            - replies
          type: object
      type: object
    EpisodeType:
      description: |-
        è¯æ•°ç±»å‹
          - 0 = æœ¬ç¯‡
          - 1 = ç‰¹åˆ«ç¯‡
          - 2 = OP
          - 3 = ED
          - 4 = é¢„å‘Š/å®£ä¼ /å¹¿å‘Š
          - 5 = MAD
          - 6 = å…¶ä»–
      enum:
        - 0
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
      type: integer
      x-enum-varnames:
        - Normal
        - Special
        - OP
        - ED
        - Pre
        - MAD
        - Other
      x-ms-enum:
        modelAsString: false
        name: EpisodeType
    EpisodeWikiInfo:
      properties:
        date:
          description: YYYY-MM-DD
          example: '2022-02-02'
          pattern: ^\d{4}-\d{2}-\d{2}$
          type: string
        disc:
          type: number
        duration:
          example: '24:53'
          type: string
        ep:
          type: number
        id:
          type: integer
        name:
          type: string
        nameCN:
          type: string
        subjectID:
          type: integer
        summary:
          type: string
        type:
          $ref: '#/components/schemas/EpisodeType'
      required:
        - id
        - subjectID
        - name
        - nameCN
        - type
        - ep
        - duration
        - summary
      type: object
    EpsisodesEdit:
      properties:
        commitMessage:
          type: string
        episodes:
          items:
            properties:
              date:
                description: YYYY-MM-DD
                example: '2022-02-02'
                pattern: ^\d{4}-\d{2}-\d{2}$
                type: string
              disc:
                type: number
              duration:
                example: '24:53'
                type: string
              ep:
                type: number
              id:
                type: integer
              name:
                type: string
              nameCN:
                type: string
              summary:
                type: string
              type:
                $ref: '#/components/schemas/EpisodeType'
            required:
              - id
            type: object
          type: array
        expectedRevision:
          items:
            description: >-
              a optional object to check if input is changed by others

              if some key is given, and current data in database doesn't match
              input, subject will not be changed
            properties:
              date:
                type: string
              duration:
                type: string
              name:
                type: string
              nameCN:
                type: string
              summary:
                type: string
            type: object
          type: array
      required:
        - commitMessage
        - episodes
      type: object
    EpsisodesNew:
      properties:
        episodes:
          items:
            properties:
              date:
                description: YYYY-MM-DD
                example: '2022-02-02'
                pattern: ^\d{4}-\d{2}-\d{2}$
                type: string
              disc:
                type: number
              duration:
                example: '24:53'
                type: string
              ep:
                type: number
              name:
                type: string
              nameCN:
                type: string
              summary:
                type: string
              type:
                $ref: '#/components/schemas/EpisodeType'
            required:
              - ep
            type: object
          type: array
      required:
        - episodes
      type: object
    ErrorResponse:
      description: default error response type
      properties:
        code:
          type: string
        error:
          type: string
        message:
          type: string
        statusCode:
          type: integer
      required:
        - code
        - error
        - message
        - statusCode
      type: object
    FilterMode:
      description: |-
        è¿‡æ»¤æ¨¡å¼
          - all = å…¨ç«™
          - friends = å¥½å‹
      enum:
        - all
        - friends
      type: string
      x-enum-varnames:
        - All
        - Friends
      x-ms-enum:
        modelAsString: true
        name: FilterMode
    Friend:
      properties:
        createdAt:
          type: integer
        description:
          type: string
        grade:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - user
        - grade
        - createdAt
        - description
      title: Friend
      type: object
    Group:
      properties:
        accessible:
          type: boolean
        cat:
          type: integer
        createdAt:
          type: integer
        creator:
          $ref: '#/components/schemas/SlimUser'
        creatorID:
          type: integer
        description:
          type: string
        icon:
          $ref: '#/components/schemas/Avatar'
        id:
          type: integer
        members:
          type: integer
        name:
          type: string
        nsfw:
          type: boolean
        posts:
          type: integer
        title:
          type: string
        topics:
          type: integer
      required:
        - id
        - cat
        - name
        - nsfw
        - title
        - icon
        - creatorID
        - topics
        - posts
        - members
        - description
        - accessible
        - createdAt
      title: Group
      type: object
    GroupMember:
      properties:
        joinedAt:
          type: integer
        moderator:
          type: boolean
        uid:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - uid
        - moderator
        - joinedAt
      title: GroupMember
      type: object
    GroupTopic:
      allOf:
        - $ref: '#/components/schemas/TopicBase'
        - properties:
            content:
              type: string
            creator:
              $ref: '#/components/schemas/SlimUser'
            group:
              $ref: '#/components/schemas/SlimGroup'
            replies:
              items:
                $ref: '#/components/schemas/Reply'
              type: array
          required:
            - creator
            - group
            - content
            - replies
          type: object
      title: GroupTopic
    HistorySummary:
      properties:
        commitMessage:
          type: string
        createdAt:
          description: unix timestamp seconds
          type: integer
        creator:
          properties:
            username:
              type: string
          required:
            - username
          type: object
        type:
          description: ä¿®æ”¹ç±»å‹ã€‚`1` æ­£å¸¸ä¿®æ”¹ï¼Œ `11` åˆå¹¶ï¼Œ`103` é”å®š/è§£é” `104` æœªçŸ¥
          type: integer
      required:
        - creator
        - type
        - commitMessage
        - createdAt
      type: object
    Index:
      properties:
        collectedAt:
          type: integer
        collects:
          type: integer
        createdAt:
          type: integer
        desc:
          type: string
        id:
          type: integer
        replies:
          type: integer
        stats:
          $ref: '#/components/schemas/IndexStats'
        title:
          type: string
        total:
          type: integer
        type:
          type: integer
        updatedAt:
          type: integer
      required:
        - id
        - type
        - title
        - desc
        - replies
        - total
        - collects
        - stats
        - createdAt
        - updatedAt
      title: Index
      type: object
    IndexStats:
      additionalProperties:
        type: integer
      title: IndexStats
      type: object
    Infobox:
      items:
        properties:
          key:
            type: string
          values:
            items:
              properties:
                k:
                  type: string
                v:
                  type: string
              required:
                - v
              title: InfoboxValue
              type: object
            type: array
        required:
          - key
          - values
        title: InfoboxItem
        type: object
      title: Infobox
      type: array
    InfoboxItem:
      properties:
        key:
          type: string
        values:
          items:
            properties:
              k:
                type: string
              v:
                type: string
            required:
              - v
            title: InfoboxValue
            type: object
          type: array
      required:
        - key
        - values
      title: InfoboxItem
      type: object
    InfoboxValue:
      properties:
        k:
          type: string
        v:
          type: string
      required:
        - v
      title: InfoboxValue
      type: object
    LoginRequestBody:
      example:
        email: treeholechan@gmail.com
        password: lovemeplease
        turnstileToken: 10000000-aaaa-bbbb-cccc-000000000001
      properties:
        email:
          minLength: 1
          type: string
        password:
          minLength: 1
          type: string
        turnstileToken:
          minLength: 1
          type: string
      required:
        - email
        - password
        - turnstileToken
      type: object
    Notice:
      properties:
        createdAt:
          description: unix timestamp in seconds
          type: integer
        id:
          type: integer
        postID:
          type: integer
        sender:
          properties:
            avatar:
              $ref: '#/components/schemas/Avatar'
            id:
              example: 1
              type: integer
            joinedAt:
              type: integer
            nickname:
              example: SaiğŸ––
              type: string
            sign:
              type: string
            username:
              example: sai
              type: string
          required:
            - id
            - username
            - nickname
            - avatar
            - sign
            - joinedAt
          title: SlimUser
          type: object
        title:
          type: string
        topicID:
          type: integer
        type:
          description: æŸ¥çœ‹ `./lib/notify.ts` _settings
          type: integer
        unread:
          type: boolean
      required:
        - id
        - title
        - type
        - sender
        - topicID
        - postID
        - createdAt
        - unread
      type: object
    Permissions:
      properties:
        subjectWikiEdit:
          type: boolean
      required:
        - subjectWikiEdit
      title: Permissions
      type: object
    Person:
      properties:
        career:
          description: èŒä¸š
          example: producer
          items:
            type: string
          type: array
        collectedAt:
          type: integer
        collects:
          type: integer
        comment:
          type: integer
        id:
          type: integer
        images:
          $ref: '#/components/schemas/PersonImages'
        infobox:
          $ref: '#/components/schemas/Infobox'
        lock:
          type: boolean
        name:
          type: string
        nameCN:
          type: string
        nsfw:
          type: boolean
        redirect:
          type: integer
        summary:
          type: string
        type:
          type: integer
      required:
        - id
        - name
        - nameCN
        - type
        - infobox
        - career
        - summary
        - comment
        - collects
        - lock
        - redirect
        - nsfw
      title: Person
      type: object
    PersonCharacter:
      properties:
        character:
          $ref: '#/components/schemas/SlimCharacter'
        relations:
          items:
            $ref: '#/components/schemas/CharacterSubjectRelation'
          type: array
      required:
        - character
        - relations
      type: object
    PersonCollect:
      properties:
        createdAt:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - user
        - createdAt
      type: object
    PersonImages:
      properties:
        grid:
          type: string
        large:
          type: string
        medium:
          type: string
        small:
          type: string
      required:
        - large
        - medium
        - small
        - grid
      title: PersonImages
      type: object
    PersonRelation:
      properties:
        person:
          $ref: '#/components/schemas/SlimPerson'
        relation:
          description: 'äººç‰©å…³ç³»: ä»»èŒäº,ä»å±,è˜ç”¨,å«ç»™...'
          type: integer
      required:
        - person
        - relation
      type: object
    PersonWikiInfo:
      properties:
        id:
          type: integer
        infobox:
          type: string
        name:
          type: string
        summary:
          type: string
        typeID:
          $ref: '#/components/schemas/SubjectType'
      required:
        - id
        - name
        - typeID
        - infobox
        - summary
      type: object
    PersonWork:
      properties:
        positions:
          items:
            $ref: '#/components/schemas/SubjectStaffPosition'
          type: array
        subject:
          $ref: '#/components/schemas/SlimSubject'
      required:
        - subject
        - positions
      type: object
    Post:
      properties:
        content:
          type: string
        createdAt:
          type: integer
        creator:
          $ref: '#/components/schemas/SlimUser'
        creatorID:
          type: integer
        id:
          type: integer
        state:
          type: integer
        topic:
          $ref: '#/components/schemas/Topic'
      required:
        - id
        - creatorID
        - creator
        - createdAt
        - content
        - state
        - topic
      title: Post
      type: object
    Profile:
      properties:
        avatar:
          $ref: '#/components/schemas/Avatar'
        bio:
          type: string
        friendIDs:
          items:
            type: integer
          type: array
        group:
          type: integer
        id:
          type: integer
        joinedAt:
          type: integer
        location:
          type: string
        nickname:
          type: string
        permissions:
          $ref: '#/components/schemas/Permissions'
        sign:
          type: string
        site:
          type: string
        username:
          type: string
      required:
        - id
        - username
        - nickname
        - avatar
        - sign
        - group
        - joinedAt
        - site
        - location
        - bio
        - friendIDs
        - permissions
      title: Profile
      type: object
    Reaction:
      properties:
        users:
          items:
            $ref: '#/components/schemas/SimpleUser'
          type: array
        value:
          type: integer
      required:
        - users
        - value
      title: Reaction
      type: object
    RecentWikiChange:
      properties:
        persons:
          items:
            properties:
              createdAt:
                type: integer
              id:
                type: integer
            required:
              - id
              - createdAt
            type: object
          type: array
        subject:
          items:
            properties:
              createdAt:
                type: integer
              id:
                type: integer
            required:
              - id
              - createdAt
            type: object
          type: array
      required:
        - subject
        - persons
      type: object
    Reply:
      allOf:
        - $ref: '#/components/schemas/ReplyBase'
        - properties:
            replies:
              items:
                $ref: '#/components/schemas/ReplyBase'
              type: array
          required:
            - replies
          type: object
      title: Reply
    ReplyBase:
      properties:
        content:
          type: string
        createdAt:
          type: integer
        creator:
          $ref: '#/components/schemas/SlimUser'
        creatorID:
          type: integer
        id:
          type: integer
        reactions:
          items:
            $ref: '#/components/schemas/Reaction'
          type: array
        state:
          type: integer
      required:
        - id
        - creatorID
        - createdAt
        - content
        - state
      title: ReplyBase
      type: object
    SimpleUser:
      properties:
        id:
          type: integer
        nickname:
          type: string
        username:
          type: string
      required:
        - id
        - username
        - nickname
      title: SimpleUser
      type: object
    SlimBlogEntry:
      properties:
        createdAt:
          type: integer
        icon:
          type: string
        id:
          type: integer
        public:
          type: boolean
        replies:
          type: integer
        summary:
          type: string
        title:
          type: string
        type:
          type: integer
        uid:
          type: integer
        updatedAt:
          type: integer
      required:
        - id
        - uid
        - type
        - title
        - icon
        - summary
        - replies
        - public
        - createdAt
        - updatedAt
      title: SlimBlogEntry
      type: object
    SlimCharacter:
      properties:
        comment:
          type: integer
        id:
          type: integer
        images:
          $ref: '#/components/schemas/PersonImages'
        lock:
          type: boolean
        name:
          type: string
        nameCN:
          type: string
        nsfw:
          type: boolean
        role:
          type: integer
      required:
        - id
        - name
        - nameCN
        - role
        - comment
        - lock
        - nsfw
      title: SlimCharacter
      type: object
    SlimGroup:
      properties:
        accessible:
          type: boolean
        createdAt:
          type: integer
        creatorID:
          type: integer
        icon:
          $ref: '#/components/schemas/Avatar'
        id:
          type: integer
        members:
          type: integer
        name:
          type: string
        nsfw:
          type: boolean
        title:
          type: string
      required:
        - id
        - name
        - nsfw
        - title
        - icon
        - creatorID
        - members
        - accessible
        - createdAt
      title: SlimGroup
      type: object
    SlimIndex:
      properties:
        createdAt:
          type: integer
        id:
          type: integer
        title:
          type: string
        total:
          type: integer
        type:
          type: integer
      required:
        - id
        - type
        - title
        - total
        - createdAt
      title: SlimIndex
      type: object
    SlimPerson:
      properties:
        comment:
          type: integer
        id:
          type: integer
        images:
          $ref: '#/components/schemas/PersonImages'
        lock:
          type: boolean
        name:
          type: string
        nameCN:
          type: string
        nsfw:
          type: boolean
        type:
          type: integer
      required:
        - id
        - name
        - nameCN
        - type
        - comment
        - lock
        - nsfw
      title: SlimPerson
      type: object
    SlimSubject:
      example:
        id: 8
        images:
          common: https://lain.bgm.tv/pic/cover/c/c9/f0/8_wK0z3.jpg
          grid: https://lain.bgm.tv/pic/cover/g/c9/f0/8_wK0z3.jpg
          large: https://lain.bgm.tv/pic/cover/l/c9/f0/8_wK0z3.jpg
          medium: https://lain.bgm.tv/pic/cover/m/c9/f0/8_wK0z3.jpg
          small: https://lain.bgm.tv/pic/cover/s/c9/f0/8_wK0z3.jpg
        locked: false
        name: ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹ åé€†ã®ãƒ«ãƒ«ãƒ¼ã‚·ãƒ¥R2
        nameCN: Code Geass åå›çš„é²è·¯ä¿®R2
        nsfw: false
        type: 2
      properties:
        id:
          type: integer
        images:
          $ref: '#/components/schemas/SubjectImages'
        info:
          type: string
        interest:
          $ref: '#/components/schemas/SlimSubjectInterest'
        locked:
          type: boolean
        name:
          type: string
        nameCN:
          type: string
        nsfw:
          type: boolean
        rating:
          $ref: '#/components/schemas/SubjectRating'
        type:
          $ref: '#/components/schemas/SubjectType'
      required:
        - id
        - name
        - nameCN
        - type
        - info
        - rating
        - locked
        - nsfw
      title: SlimSubject
      type: object
    SlimSubjectInterest:
      properties:
        comment:
          type: string
        rate:
          type: integer
        tags:
          items:
            type: string
          type: array
        type:
          $ref: '#/components/schemas/CollectionType'
        updatedAt:
          type: integer
      required:
        - rate
        - type
        - comment
        - tags
        - updatedAt
      title: SlimSubjectInterest
      type: object
    SlimUser:
      properties:
        avatar:
          $ref: '#/components/schemas/Avatar'
        id:
          example: 1
          type: integer
        joinedAt:
          type: integer
        nickname:
          example: SaiğŸ––
          type: string
        sign:
          type: string
        username:
          example: sai
          type: string
      required:
        - id
        - username
        - nickname
        - avatar
        - sign
        - joinedAt
      title: SlimUser
      type: object
    Subject:
      example:
        airtime:
          date: '2008-04-06'
          month: 4
          weekday: 7
          year: 2008
        collection:
          '1': 622
          '2': 13216
          '3': 147
          '4': 224
          '5': 115
        eps: 25
        id: 8
        images:
          common: https://lain.bgm.tv/pic/cover/c/c9/f0/8_wK0z3.jpg
          grid: https://lain.bgm.tv/pic/cover/g/c9/f0/8_wK0z3.jpg
          large: https://lain.bgm.tv/pic/cover/l/c9/f0/8_wK0z3.jpg
          medium: https://lain.bgm.tv/pic/cover/m/c9/f0/8_wK0z3.jpg
          small: https://lain.bgm.tv/pic/cover/s/c9/f0/8_wK0z3.jpg
        infobox:
          Copyright:
            - v: ï¼ˆCï¼‰2006 SUNRISE inc./MBS
          ä¸­æ–‡å:
            - v: Code Geass åå›çš„é²è·¯ä¿®R2
          äººç‰©åŸæ¡ˆ:
            - v: CLAMP
          äººç‰©è®¾å®š:
            - v: æœ¨æ‘è²´å®
          å…¶ä»–:
            - v: ''
          å…¶ä»–ç”µè§†å°:
            - v: ''
          åˆ«å:
            - v: å›é€†çš„é²è·¯ä¿®R2
            - v: 'Code Geass: Hangyaku no Lelouch R2'
            - v: å›é€†çš„å‹’é²ä»€R2
            - v: å›é€†çš„é²é²ä¿®R2
            - v: ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹ åé€†ã®ãƒ«ãƒ«ãƒ¼ã‚·ãƒ¥R2
            - v: 'Code Geass: Lelouch of the Rebellion R2'
            - v: å›é€†çš„å‹’è·¯ä»€R2
          åŠ¨ç”»åˆ¶ä½œ:
            - v: ã‚µãƒ³ãƒ©ã‚¤ã‚º
          å®˜æ–¹ç½‘ç«™:
            - v: http://www.geass.jp/r2/
          å¯¼æ¼”:
            - v: è°·å£æ‚Ÿæœ—
          æ‘„å½±ç›‘ç£:
            - v: å¤§çŸ¢å‰µå¤ª
          æ’­æ”¾ç”µè§†å°:
            - v: æ¯æ—¥æ”¾é€
          æ’­æ”¾ç»“æŸ:
            - v: 2008å¹´9æœˆ28æ—¥
          æ”¾é€å¼€å§‹:
            - v: 2008å¹´4æœˆ6æ—¥
          æ”¾é€æ˜ŸæœŸ:
            - v: ''
          ç³»åˆ—æ„æˆ:
            - v: å¤§æ²³å†…ä¸€æ¥¼
          ç¾æœ¯ç›‘ç£:
            - v: è±æ²¼ç”±å…¸
          è‰²å½©è®¾è®¡:
            - v: å²©æ²¢ã‚Œã„å­
          è¯æ•°:
            - v: '25'
          éŸ³ä¹:
            - v: ä¸­å·å¹¸å¤ªéƒã€é»’çŸ³ã²ã¨ã¿
          éŸ³ä¹åˆ¶ä½œ:
            - v: AUDIO PLANNING U
          éŸ³å“ç›‘ç£:
            - v: æµ¦ä¸Šé–å¤«ã€äº•æ¾¤åŸº
        locked: false
        metaTags: []
        name: ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹ åé€†ã®ãƒ«ãƒ«ãƒ¼ã‚·ãƒ¥R2
        nameCN: Code Geass åå›çš„é²è·¯ä¿®R2
        nsfw: false
        platform:
          alias: tv
          enableHeader: true
          id: 1
          order: 0
          type: TV
          typeCN: TV
          wikiTpl: TVAnime
        rating:
          count:
            - 44
            - 15
            - 32
            - 66
            - 145
            - 457
            - 1472
            - 3190
            - 2640
            - 1377
          score: 8.19
          total: 9438
        redirect: 0
        series: false
        seriesEntry: 0
        summary: >-
          ã€€ã€€â€œä¸œäº¬å†³æˆ˜â€ä¸€å¹´åï¼Œå¸ƒé‡Œå¡”å°¼äºšå°‘å¹´é²è·¯ä¿®åœ¨11åŒºï¼ˆåŸæ—¥æœ¬å›½ï¼‰è¿‡ç€å¹³å‡¡çš„å­¦ç”Ÿç”Ÿæ´»ã€‚ä½†æ˜¯ï¼Œé²è·¯ä¿®ä¸å¼Ÿå¼Ÿç½—æ´›çš„ä¸€æ¬¡å‡ºè¡Œï¼Œé‡åˆ°äº†é»‘è‰²éª‘å£«å›¢çš„ä½™å…šã€‚åœ¨ä¸å°‘å¥³C.Cå†æ¬¡ç»“æˆå¥‘çº¦ä¹‹åï¼Œå°˜å°çš„è®°å¿†æ‘†åœ¨äº†é²è·¯ä¿®çš„é¢å‰ã€‚
        type: 2
        volumes: 0
      properties:
        airtime:
          $ref: '#/components/schemas/SubjectAirtime'
        collection:
          $ref: '#/components/schemas/SubjectCollection'
        eps:
          type: integer
        id:
          type: integer
        images:
          $ref: '#/components/schemas/SubjectImages'
        info:
          type: string
        infobox:
          $ref: '#/components/schemas/Infobox'
        interest:
          $ref: '#/components/schemas/SubjectInterest'
        locked:
          type: boolean
        metaTags:
          items:
            type: string
          type: array
        name:
          type: string
        nameCN:
          type: string
        nsfw:
          type: boolean
        platform:
          $ref: '#/components/schemas/SubjectPlatform'
        rating:
          $ref: '#/components/schemas/SubjectRating'
        redirect:
          type: integer
        series:
          type: boolean
        seriesEntry:
          type: integer
        summary:
          type: string
        tags:
          items:
            $ref: '#/components/schemas/SubjectTag'
          type: array
        type:
          $ref: '#/components/schemas/SubjectType'
        volumes:
          type: integer
      required:
        - airtime
        - collection
        - eps
        - id
        - infobox
        - info
        - metaTags
        - locked
        - name
        - nameCN
        - nsfw
        - platform
        - rating
        - redirect
        - series
        - seriesEntry
        - summary
        - type
        - volumes
        - tags
      title: Subject
      type: object
    SubjectAirtime:
      properties:
        date:
          type: string
        month:
          type: integer
        weekday:
          type: integer
        year:
          type: integer
      required:
        - date
        - month
        - weekday
        - year
      title: SubjectAirtime
      type: object
    SubjectCharacter:
      properties:
        actors:
          items:
            $ref: '#/components/schemas/SlimPerson'
          type: array
        character:
          $ref: '#/components/schemas/SlimCharacter'
        order:
          type: integer
        type:
          type: integer
      required:
        - character
        - actors
        - type
        - order
      type: object
    SubjectCollection:
      additionalProperties:
        type: integer
      title: SubjectCollection
      type: object
    SubjectComment:
      properties:
        comment:
          type: string
        id:
          type: integer
        rate:
          type: integer
        reactions:
          items:
            $ref: '#/components/schemas/Reaction'
          type: array
        type:
          $ref: '#/components/schemas/CollectionType'
        updatedAt:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - id
        - user
        - type
        - rate
        - comment
        - updatedAt
      title: SubjectComment
      type: object
    SubjectEdit:
      example:
        infobox: |-
          {{Infobox animanga/TVAnime
          |ä¸­æ–‡å= æ²™ç›’
          |åˆ«å={
          }
          |è¯æ•°= 7
          |æ”¾é€å¼€å§‹= 0000-10-06
          |æ”¾é€æ˜ŸæœŸ= 
          |å®˜æ–¹ç½‘ç«™= 
          |æ’­æ”¾ç”µè§†å°= 
          |å…¶ä»–ç”µè§†å°= 
          |æ’­æ”¾ç»“æŸ= 
          |å…¶ä»–= 
          |Copyright= 
          |å¹³å°={
          [é¾Ÿå£³]
          [Xbox Series S]
          [Xbox Series X]
          [Xbox Series X/S]
          [PC]
          [Xbox Series X|S]
          }
          }}
        name: æ²™ç›’
        nsfw: false
        platform: 0
        summary: |-
          æœ¬æ¡ç›®æ˜¯ä¸€ä¸ªæ²™ç›’ï¼Œå¯ä»¥ç”¨äºå°è¯•bgmåŠŸèƒ½ã€‚

          æ™®é€šç»´åŸºäººå¯ä»¥éšæ„ç¼–è¾‘æ¡ç›®ä¿¡æ¯ä»¥åŠç›¸å…³å…³è”æŸ¥çœ‹ç¼–è¾‘æ•ˆæœï¼Œä½†æ˜¯è¯·ä¸è¦å®Œå…¨åˆ é™¤æ²™ç›’è¯´æ˜å¹¶ä¸”ä¸è¦å…³è”éæ²™ç›’æ¡ç›®/äººç‰©/è§’è‰²ã€‚

          https://bgm.tv/group/topic/366812#post_1923517
      properties:
        date:
          example: '0000-00-00'
          pattern: ^\d{4}-\d{2}-\d{2}$
          type: string
        infobox:
          minLength: 1
          type: string
        metaTags:
          items:
            type: string
          type: array
        name:
          minLength: 1
          type: string
        nsfw:
          type: boolean
        platform:
          type: integer
        summary:
          type: string
      required:
        - name
        - infobox
        - platform
        - nsfw
        - metaTags
        - summary
      type: object
    SubjectImages:
      properties:
        common:
          type: string
        grid:
          type: string
        large:
          type: string
        medium:
          type: string
        small:
          type: string
      required:
        - large
        - common
        - medium
        - small
        - grid
      title: SubjectImages
      type: object
    SubjectInterest:
      properties:
        comment:
          type: string
        epStatus:
          type: integer
        private:
          type: boolean
        rate:
          type: integer
        tags:
          items:
            type: string
          type: array
        type:
          $ref: '#/components/schemas/CollectionType'
        updatedAt:
          type: integer
        volStatus:
          type: integer
      required:
        - rate
        - type
        - comment
        - tags
        - epStatus
        - volStatus
        - private
        - updatedAt
      title: SubjectInterest
      type: object
    SubjectNew:
      properties:
        infobox:
          minLength: 1
          type: string
        metaTags:
          items:
            type: string
          type: array
        name:
          minLength: 1
          type: string
        nsfw:
          type: boolean
        platform:
          type: integer
        summary:
          type: string
        type:
          $ref: '#/components/schemas/SubjectType'
      required:
        - name
        - type
        - platform
        - infobox
        - nsfw
        - metaTags
        - summary
      type: object
    SubjectPlatform:
      properties:
        alias:
          type: string
        enableHeader:
          type: boolean
        id:
          type: integer
        order:
          type: integer
        searchString:
          type: string
        sortKeys:
          items:
            type: string
          type: array
        type:
          type: string
        typeCN:
          type: string
        wikiTpl:
          type: string
      required:
        - id
        - type
        - typeCN
        - alias
      title: SubjectPlatform
      type: object
    SubjectPosition:
      properties:
        position:
          $ref: '#/components/schemas/SubjectStaffPositionType'
        staffs:
          items:
            $ref: '#/components/schemas/SubjectPositionStaff'
          type: array
      required:
        - position
        - staffs
      type: object
    SubjectPositionStaff:
      properties:
        appearEps:
          type: string
        person:
          $ref: '#/components/schemas/SlimPerson'
        summary:
          type: string
      required:
        - person
        - summary
        - appearEps
      type: object
    SubjectRating:
      properties:
        count:
          items:
            type: integer
          type: array
        rank:
          type: integer
        score:
          type: number
        total:
          type: integer
      required:
        - rank
        - count
        - score
        - total
      title: SubjectRating
      type: object
    SubjectRec:
      properties:
        count:
          type: integer
        sim:
          type: number
        subject:
          $ref: '#/components/schemas/SlimSubject'
      required:
        - subject
        - sim
        - count
      title: SubjectRec
      type: object
    SubjectRelation:
      properties:
        order:
          type: integer
        relation:
          $ref: '#/components/schemas/SubjectRelationType'
        subject:
          $ref: '#/components/schemas/SlimSubject'
      required:
        - subject
        - relation
        - order
      type: object
    SubjectRelationType:
      properties:
        cn:
          type: string
        desc:
          type: string
        en:
          type: string
        id:
          type: integer
        jp:
          type: string
      required:
        - id
        - en
        - cn
        - jp
        - desc
      type: object
    SubjectReview:
      properties:
        entry:
          $ref: '#/components/schemas/SlimBlogEntry'
        id:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - id
        - user
        - entry
      title: SubjectReview
      type: object
    SubjectSort:
      default: rank
      description: |-
        æ¡ç›®æ’åºæ–¹å¼
          - rank = æ’å
          - trends = çƒ­åº¦
          - collects = æ”¶è—æ•°
          - date = å‘å¸ƒæ—¥æœŸ
          - title = æ ‡é¢˜
      enum:
        - rank
        - trends
        - collects
        - date
        - title
      type: string
      x-enum-varnames:
        - Rank
        - Trends
        - Collects
        - Date
        - Title
      x-ms-enum:
        modelAsString: true
        name: SubjectSort
    SubjectStaff:
      properties:
        positions:
          items:
            $ref: '#/components/schemas/SubjectStaffPosition'
          type: array
        staff:
          $ref: '#/components/schemas/SlimPerson'
      required:
        - staff
        - positions
      type: object
    SubjectStaffPosition:
      properties:
        appearEps:
          type: string
        summary:
          type: string
        type:
          $ref: '#/components/schemas/SubjectStaffPositionType'
      required:
        - type
        - summary
        - appearEps
      type: object
    SubjectStaffPositionType:
      properties:
        cn:
          type: string
        en:
          type: string
        id:
          type: integer
        jp:
          type: string
      required:
        - id
        - en
        - cn
        - jp
      type: object
    SubjectTag:
      properties:
        count:
          type: integer
        name:
          type: string
      required:
        - name
        - count
      title: SubjectTag
      type: object
    SubjectTopic:
      allOf:
        - $ref: '#/components/schemas/TopicBase'
        - properties:
            content:
              type: string
            creator:
              $ref: '#/components/schemas/SlimUser'
            replies:
              items:
                $ref: '#/components/schemas/Reply'
              type: array
            subject:
              $ref: '#/components/schemas/SlimSubject'
          required:
            - creator
            - subject
            - content
            - replies
          type: object
      title: SubjectTopic
    SubjectType:
      description: |-
        æ¡ç›®ç±»å‹
          - 1 = ä¹¦ç±
          - 2 = åŠ¨ç”»
          - 3 = éŸ³ä¹
          - 4 = æ¸¸æˆ
          - 6 = ä¸‰æ¬¡å…ƒ

          æ²¡æœ‰ 5
      enum:
        - 1
        - 2
        - 3
        - 4
        - 6
      type: integer
      x-enum-varnames:
        - Book
        - Anime
        - Music
        - Game
        - Real
      x-ms-enum:
        modelAsString: false
        name: SubjectType
    SubjectWikiInfo:
      properties:
        availablePlatform:
          items:
            $ref: '#/components/schemas/WikiPlatform'
          type: array
        id:
          type: integer
        infobox:
          type: string
        metaTags:
          items:
            type: string
          type: array
        name:
          type: string
        nsfw:
          type: boolean
        platform:
          type: integer
        summary:
          type: string
        typeID:
          $ref: '#/components/schemas/SubjectType'
      required:
        - id
        - name
        - typeID
        - infobox
        - platform
        - availablePlatform
        - metaTags
        - summary
        - nsfw
      type: object
    Timeline:
      properties:
        batch:
          type: boolean
        cat:
          $ref: '#/components/schemas/TimelineCat'
        createdAt:
          type: integer
        id:
          type: integer
        memo:
          $ref: '#/components/schemas/TimelineMemo'
        replies:
          type: integer
        source:
          $ref: '#/components/schemas/TimelineSource'
        type:
          type: integer
        uid:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - id
        - uid
        - cat
        - type
        - memo
        - batch
        - source
        - replies
        - createdAt
      title: Timeline
      type: object
    TimelineCat:
      description: |-
        æ—¶é—´çº¿ç±»å‹
          - 1 = æ—¥å¸¸è¡Œä¸º
          - 2 = ç»´åŸºæ“ä½œ
          - 3 = æ”¶è—æ¡ç›®
          - 4 = æ”¶è§†è¿›åº¦
          - 5 = çŠ¶æ€
          - 6 = æ—¥å¿—
          - 7 = ç›®å½•
          - 8 = äººç‰©
          - 9 = å¤©çª—
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
      type: integer
      x-enum-varnames:
        - Daily
        - Wiki
        - Subject
        - Progress
        - Status
        - Blog
        - Index
        - Mono
        - Doujin
      x-ms-enum:
        modelAsString: false
        name: TimelineCat
    TimelineMemo:
      properties:
        blog:
          $ref: '#/components/schemas/SlimBlogEntry'
        daily:
          properties:
            groups:
              items:
                $ref: '#/components/schemas/SlimGroup'
              type: array
            users:
              items:
                $ref: '#/components/schemas/SlimUser'
              type: array
          type: object
        index:
          $ref: '#/components/schemas/SlimIndex'
        mono:
          properties:
            characters:
              items:
                $ref: '#/components/schemas/SlimCharacter'
              type: array
            persons:
              items:
                $ref: '#/components/schemas/SlimPerson'
              type: array
          required:
            - characters
            - persons
          type: object
        progress:
          properties:
            batch:
              properties:
                epsTotal:
                  type: string
                epsUpdate:
                  type: integer
                subject:
                  $ref: '#/components/schemas/SlimSubject'
                volsTotal:
                  type: string
                volsUpdate:
                  type: integer
              required:
                - epsTotal
                - volsTotal
                - subject
              type: object
            single:
              properties:
                episode:
                  $ref: '#/components/schemas/Episode'
                subject:
                  $ref: '#/components/schemas/SlimSubject'
              required:
                - episode
                - subject
              type: object
          type: object
        status:
          properties:
            nickname:
              properties:
                after:
                  type: string
                before:
                  type: string
              required:
                - before
                - after
              type: object
            sign:
              type: string
            tsukkomi:
              type: string
          type: object
        subject:
          items:
            properties:
              collectID:
                type: integer
              comment:
                type: string
              rate:
                type: number
              reactions:
                items:
                  $ref: '#/components/schemas/Reaction'
                type: array
              subject:
                $ref: '#/components/schemas/SlimSubject'
            required:
              - subject
              - comment
              - rate
            type: object
          type: array
        wiki:
          properties:
            subject:
              $ref: '#/components/schemas/SlimSubject'
          type: object
      title: TimelineMemo
      type: object
    TimelineSource:
      description: |-
        æ—¶é—´çº¿æ¥æº
          - 0 = ç½‘ç«™
          - 1 = ç§»åŠ¨ç«¯
          - 2 = https://bgm.tv/onair
          - 3 = https://netaba.re/
          - 4 = WP
          - 5 = API
      enum:
        - 0
        - 1
        - 2
        - 3
        - 4
        - 5
      type: integer
      x-enum-varnames:
        - Web
        - Mobile
        - OnAir
        - InTouch
        - WP
        - API
      x-ms-enum:
        modelAsString: false
        name: TimelineSource
    Topic:
      allOf:
        - $ref: '#/components/schemas/TopicBase'
        - properties:
            creator:
              $ref: '#/components/schemas/SlimUser'
            replies:
              type: integer
          required:
            - replies
          type: object
      title: Topic
    TopicBase:
      properties:
        createdAt:
          description: å‘å¸–æ—¶é—´ï¼Œunix time stamp in seconds
          type: integer
        creatorID:
          type: integer
        display:
          type: integer
        id:
          type: integer
        parentID:
          description: å°ç»„/æ¡ç›®ID
          type: integer
        state:
          type: integer
        title:
          type: string
        updatedAt:
          description: æœ€åå›å¤æ—¶é—´ï¼Œunix time stamp in seconds
          type: integer
      required:
        - id
        - title
        - creatorID
        - parentID
        - createdAt
        - updatedAt
        - state
        - display
      title: TopicBase
      type: object
    TrendingSubject:
      properties:
        count:
          type: integer
        subject:
          $ref: '#/components/schemas/Subject'
      required:
        - subject
        - count
      type: object
    UpdateEpisodeComment:
      properties:
        content:
          minLength: 1
          type: string
      required:
        - content
      type: object
    UpdatePost:
      properties:
        content:
          description: bbcode
          minLength: 1
          type: string
      required:
        - content
      type: object
    UpdateTopic:
      properties:
        content:
          description: bbcode
          minLength: 1
          type: string
        title:
          minLength: 1
          type: string
      required:
        - title
        - content
      type: object
    User:
      properties:
        avatar:
          $ref: '#/components/schemas/Avatar'
        bio:
          type: string
        group:
          type: integer
        homepage:
          $ref: '#/components/schemas/UserHomepage'
        id:
          example: 1
          type: integer
        joinedAt:
          type: integer
        location:
          type: string
        networkServices:
          items:
            properties:
              account:
                type: string
              color:
                type: string
              name:
                type: string
              title:
                type: string
              url:
                type: string
            required:
              - name
              - title
              - url
              - color
              - account
            title: UserNetworkService
            type: object
          type: array
        nickname:
          example: SaiğŸ––
          type: string
        sign:
          type: string
        site:
          type: string
        stats:
          $ref: '#/components/schemas/UserStats'
        username:
          example: sai
          type: string
      required:
        - id
        - username
        - nickname
        - avatar
        - group
        - joinedAt
        - sign
        - site
        - location
        - bio
        - networkServices
        - homepage
        - stats
      title: User
      type: object
    UserHomepage:
      properties:
        left:
          items:
            $ref: '#/components/schemas/UserHomepageSection'
          type: array
        right:
          items:
            $ref: '#/components/schemas/UserHomepageSection'
          type: array
      required:
        - left
        - right
      title: UserHomepage
      type: object
    UserHomepageSection:
      description: ç”¨æˆ·æ—¶å…‰æœºæ¿å—
      enum:
        - anime
        - game
        - book
        - music
        - real
        - mono
        - blog
        - friend
        - group
        - index
      type: string
      x-enum-varnames:
        - Anime
        - Game
        - Book
        - Music
        - Real
        - Mono
        - Blog
        - Friend
        - Group
        - Index
      x-ms-enum:
        modelAsString: true
        name: UserHomepageSection
    UserIndexStats:
      properties:
        collect:
          type: integer
        create:
          type: integer
      required:
        - create
        - collect
      title: UserIndexStats
      type: object
    UserMonoCollectionStats:
      properties:
        character:
          type: integer
        person:
          type: integer
      required:
        - character
        - person
      title: UserMonoCollectionStats
      type: object
    UserNetworkService:
      properties:
        account:
          type: string
        color:
          type: string
        name:
          type: string
        title:
          type: string
        url:
          type: string
      required:
        - name
        - title
        - url
        - color
        - account
      title: UserNetworkService
      type: object
    UserStats:
      properties:
        blog:
          type: integer
        friend:
          type: integer
        group:
          type: integer
        index:
          $ref: '#/components/schemas/UserIndexStats'
        mono:
          $ref: '#/components/schemas/UserMonoCollectionStats'
        subject:
          $ref: '#/components/schemas/UserSubjectCollectionStats'
      required:
        - subject
        - mono
        - blog
        - friend
        - group
        - index
      title: UserStats
      type: object
    UserSubjectCollectionStats:
      additionalProperties:
        additionalProperties:
          type: integer
        type: object
      title: UserSubjectCollectionStats
      type: object
    WikiPlatform:
      properties:
        id:
          type: integer
        text:
          type: string
        wiki_tpl:
          type: string
      required:
        - id
        - text
      type: object
  securitySchemes:
    CookiesSession:
      description: ä½¿ç”¨ [login](#/auth/login) è°ƒç”¨ API ç™»å½•ï¼Œæˆ–è€… ä½¿ç”¨ [demo](/demo/login) ç™»å½•
      in: cookie
      name: chiiNextSessionID
      type: apiKey
    HTTPBearer:
      description: ä½¿ç”¨ [demo](/demo/login) ç™»å½•ååˆ›å»ºä¸ªäººä»¤ç‰Œ
      scheme: Bearer
      type: http
info:
  description: >-
    å…³äºè®¢é˜…é€šçŸ¥çš„ socket.io ç›¸å…³çš„æ–‡æ¡£åœ¨
    <https://github.com/bangumi/GraphQL/blob/master/docs/socket.io.md>
  title: bangumi private api
openapi: 3.0.3
paths:
  /p1/blocklist:
    get:
      operationId: getBlocklist
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  blocklist:
                    items:
                      type: integer
                    type: array
                required:
                  - blocklist
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç»äº¤ç”¨æˆ·åˆ—è¡¨
      tags:
        - misc
    post:
      operationId: addToBlocklist
      requestBody:
        content:
          application/json:
            schema:
              properties:
                id:
                  type: integer
              required:
                - id
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  blocklist:
                    items:
                      type: integer
                    type: array
                required:
                  - blocklist
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: å°†ç”¨æˆ·æ·»åŠ åˆ°ç»äº¤åˆ—è¡¨
      tags:
        - misc
  /p1/blocklist/{id}:
    delete:
      operationId: removeFromBlocklist
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  blocklist:
                    items:
                      type: integer
                    type: array
                required:
                  - blocklist
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: å°†ç”¨æˆ·ä»ç»äº¤åˆ—è¡¨ç§»å‡º
      tags:
        - misc
  /p1/blogs/{entryID}:
    get:
      operationId: getBlogEntry
      parameters:
        - in: path
          name: entryID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlogEntry'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - HTTPBearer: []
      summary: è·å–æ—¥å¿—è¯¦æƒ…
      tags:
        - blog
  /p1/blogs/{entryID}/photos:
    get:
      operationId: getBlogPhotos
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: entryID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/BlogPhoto'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - HTTPBearer: []
      summary: è·å–æ—¥å¿—çš„å›¾ç‰‡
      tags:
        - blog
  /p1/blogs/{entryID}/subjects:
    get:
      operationId: getBlogRelatedSubjects
      parameters:
        - in: path
          name: entryID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/SlimSubject'
                type: array
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - HTTPBearer: []
      summary: è·å–æ—¥å¿—çš„å…³è”æ¡ç›®
      tags:
        - blog
  /p1/calendar:
    get:
      operationId: getCalendar
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Calendar'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¯æ—¥æ”¾é€
      tags:
        - calendar
  /p1/characters/{characterID}:
    get:
      operationId: getCharacter
      parameters:
        - in: path
          name: characterID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Character'
          description: Default Response
        '404':
          content:
            application/json:
              examples:
                NOT_FOUND:
                  value:
                    code: NOT_FOUND
                    error: Not Found
                    message: character not found
                    statusCode: 404
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–è§’è‰²
      tags:
        - character
  /p1/characters/{characterID}/casts:
    get:
      operationId: getCharacterCasts
      parameters:
        - in: query
          name: subjectType
          required: false
          schema:
            $ref: '#/components/schemas/SubjectType'
        - description: 'è§’è‰²å‡ºåœºç±»å‹: ä¸»è§’ï¼Œé…è§’ï¼Œå®¢ä¸²'
          in: query
          name: type
          required: false
          schema:
            type: integer
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: characterID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/CharacterSubject'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              examples:
                NOT_FOUND:
                  value:
                    code: NOT_FOUND
                    error: Not Found
                    message: character not found
                    statusCode: 404
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–è§’è‰²å‡ºæ¼”ä½œå“
      tags:
        - character
  /p1/characters/{characterID}/collects:
    get:
      operationId: getCharacterCollects
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: characterID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/PersonCollect'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              examples:
                NOT_FOUND:
                  value:
                    code: NOT_FOUND
                    error: Not Found
                    message: character not found
                    statusCode: 404
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–è§’è‰²çš„æ”¶è—ç”¨æˆ·
      tags:
        - character
  /p1/clear-notify:
    post:
      description: |-
        æ ‡è®°é€šçŸ¥ä¸ºå·²è¯»

        ä¸ä¼ idæ—¶ä¼šæ¸…ç©ºæ‰€æœ‰æœªè¯»é€šçŸ¥
      operationId: clearNotice
      requestBody:
        content:
          application/json:
            examples:
              ClearAll:
                value: {}
              ClearSome:
                value:
                  id:
                    - 1
                    - 2
            schema:
              properties:
                id:
                  items:
                    type: integer
                  type: array
              type: object
      responses:
        '200':
          description: æ²¡æœ‰è¿”å›å€¼
        '401':
          content:
            application/json:
              examples:
                NeedLoginError:
                  value:
                    code: NEED_LOGIN
                    error: Unauthorized
                    message: you need to login before marking notifications as read
                    statusCode: 401
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æœªç™»å½•
          description: æœªç™»å½•
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ ‡è®°é€šçŸ¥ä¸ºå·²è¯»
      tags:
        - misc
  /p1/collections/characters:
    get:
      operationId: getMyCharacterCollections
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Character'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„è§’è‰²æ”¶è—
      tags:
        - collection
  /p1/collections/indexes:
    get:
      operationId: getMyIndexCollections
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Index'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„ç›®å½•æ”¶è—
      tags:
        - collection
  /p1/collections/persons:
    get:
      operationId: getMyPersonCollections
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Person'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„äººç‰©æ”¶è—
      tags:
        - collection
  /p1/collections/subjects:
    get:
      operationId: getMySubjectCollections
      parameters:
        - in: query
          name: subjectType
          required: false
          schema:
            $ref: '#/components/schemas/SubjectType'
        - in: query
          name: type
          required: false
          schema:
            $ref: '#/components/schemas/CollectionType'
        - description: èµ·å§‹æ—¶é—´æˆ³
          in: query
          name: since
          required: false
          schema:
            minimum: 0
            type: integer
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Subject'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„æ¡ç›®æ”¶è—
      tags:
        - collection
  /p1/debug:
    get:
      description: debug è·¯ç”±
      operationId: debug
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: debug
  /p1/episodes/-/comments/{commentID}:
    delete:
      operationId: deleteSubjectEpComment
      parameters:
        - example: 1034989
          in: path
          name: commentID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤æ¡ç›®çš„å‰§é›†åæ§½
      tags:
        - episode
    put:
      operationId: updateSubjectEpComment
      parameters:
        - example: 1075440
          in: path
          name: commentID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateEpisodeComment'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘æ¡ç›®çš„å‰§é›†åæ§½
      tags:
        - episode
  /p1/episodes/{episodeID}:
    get:
      operationId: getSubjectEpisode
      parameters:
        - example: 1075440
          in: path
          name: episodeID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Episode'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å‰§é›†ä¿¡æ¯
      tags:
        - episode
  /p1/episodes/{episodeID}/comments:
    get:
      operationId: getSubjectEpisodeComments
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  allOf:
                    - properties:
                        content:
                          type: string
                        createdAt:
                          type: integer
                        creatorID:
                          type: integer
                        epID:
                          type: integer
                        id:
                          type: integer
                        reactions:
                          items:
                            $ref: '#/components/schemas/Reaction'
                          type: array
                        relatedID:
                          type: integer
                        state:
                          type: integer
                        user:
                          $ref: '#/components/schemas/SlimUser'
                      required:
                        - id
                        - epID
                        - creatorID
                        - relatedID
                        - createdAt
                        - content
                        - state
                      type: object
                    - properties:
                        replies:
                          items:
                            $ref: '#/components/schemas/EpisodeCommentBase'
                          type: array
                      required:
                        - replies
                      type: object
                  type: object
                type: array
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: è·å–æ¡ç›®çš„å‰§é›†åæ§½ç®±
      tags:
        - episode
    post:
      operationId: createSubjectEpComment
      parameters:
        - example: 1075440
          in: path
          name: episodeID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateEpisodeComment'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    description: new reply id
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºæ¡ç›®çš„å‰§é›†åæ§½
      tags:
        - episode
  /p1/followers:
    get:
      operationId: getMyFollowers
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Friend'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„å…³æ³¨è€…åˆ—è¡¨
      tags:
        - friend
  /p1/friends:
    get:
      operationId: getMyFriends
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Friend'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„å¥½å‹åˆ—è¡¨
      tags:
        - friend
  /p1/groups/-/posts/{postID}:
    delete:
      operationId: deleteGroupPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤å°ç»„å¸–å­å›å¤
      tags:
        - topic
    get:
      operationId: getGroupPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Post'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: è·å–å°ç»„å¸–å­å›å¤è¯¦æƒ…
      tags:
        - topic
    put:
      operationId: editGroupPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePost'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘å°ç»„å¸–å­å›å¤
      tags:
        - topic
  /p1/groups/-/topics/{topicID}:
    get:
      operationId: getGroupTopic
      parameters:
        - in: path
          name: topicID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupTopic'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å°ç»„å¸–å­è¯¦æƒ…
      tags:
        - topic
    put:
      description: ç¼–è¾‘å°ç»„å¸–å­
      operationId: editGroupTopic
      parameters:
        - in: path
          name: topicID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTopic'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      tags:
        - topic
  /p1/groups/-/topics/{topicID}/replies:
    post:
      operationId: createGroupReply
      parameters:
        - in: path
          name: topicID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePost'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºå°ç»„å¸–å­å›å¤
      tags:
        - topic
  /p1/groups/{groupName}:
    get:
      operationId: getGroup
      parameters:
        - in: path
          name: groupName
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å°ç»„è¯¦æƒ…
      tags:
        - group
  /p1/groups/{groupName}/members:
    get:
      operationId: getGroupMembers
      parameters:
        - in: query
          name: moderator
          required: false
          schema:
            default: false
            type: boolean
        - in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            type: integer
        - in: query
          name: offset
          required: false
          schema:
            default: 0
            type: integer
        - in: path
          name: groupName
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/GroupMember'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å°ç»„æˆå‘˜åˆ—è¡¨
      tags:
        - group
  /p1/groups/{groupName}/topics:
    get:
      operationId: getGroupTopics
      parameters:
        - in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            type: integer
        - in: query
          name: offset
          required: false
          schema:
            default: 0
            type: integer
        - in: path
          name: groupName
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Topic'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å°ç»„å¸–å­åˆ—è¡¨
      tags:
        - group
    post:
      operationId: createGroupTopic
      parameters:
        - in: path
          name: groupName
          required: true
          schema:
            minLength: 1
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTopic'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    description: new topic id
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºå°ç»„å¸–å­
      tags:
        - group
  /p1/login:
    post:
      description: >-
        éœ€è¦
        [turnstile](https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/)


        next.bgm.tv åŸŸåå¯¹åº”çš„ site-key ä¸º `0x4AAAAAAABkMYinukE8nzYS`


        dev.bgm38.tv åŸŸåä½¿ç”¨æµ‹è¯•ç”¨çš„ site-key `1x00000000000000000000AA`
      operationId: login
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequestBody'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SlimUser'
          description: Default Response
          headers:
            Set-Cookie:
              description: 'example: "chiiNextSessionID=12345abc"'
              schema:
                type: string
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: request validation error
          description: request validation error
        '401':
          content:
            application/json:
              examples:
                CAPTCHA_ERROR:
                  value:
                    code: CAPTCHA_ERROR
                    error: Unauthorized
                    message: wrong captcha
                    statusCode: 401
                EMAIL_PASSWORD_ERROR:
                  value:
                    code: EMAIL_PASSWORD_ERROR
                    error: Unauthorized
                    message: email does not exists or email and password not match
                    statusCode: 401
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: éªŒè¯ç é”™è¯¯/è´¦å·å¯†ç ä¸åŒ¹é…
          description: éªŒè¯ç é”™è¯¯/è´¦å·å¯†ç ä¸åŒ¹é…
          headers:
            X-RateLimit-Limit:
              description: total limit per 10 minutes
              schema:
                type: integer
            X-RateLimit-Remaining:
              description: remaining rate limit
              schema:
                type: integer
            X-RateLimit-Reset:
              description: seconds to reset rate limit
              schema:
                type: integer
        '429':
          content:
            application/json:
              example:
                code: TOO_MANY_REQUESTS
                error: Too Many Requests
                message: too many failed login attempts
                statusCode: 429
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: å¤±è´¥æ¬¡æ•°å¤ªå¤šï¼Œéœ€è¦è¿‡ä¸€æ®µæ—¶é—´å†é‡è¯•
          description: å¤±è´¥æ¬¡æ•°å¤ªå¤šï¼Œéœ€è¦è¿‡ä¸€æ®µæ—¶é—´å†é‡è¯•
          headers:
            X-RateLimit-Limit:
              description: limit per 10 minutes
              schema:
                type: integer
            X-RateLimit-Remaining:
              description: remaining rate limit
              schema:
                type: integer
            X-RateLimit-Reset:
              description: seconds to reset rate limit
              schema:
                type: integer
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - auth
  /p1/logout:
    post:
      description: ç™»å‡º
      operationId: logout
      requestBody:
        content:
          application/json:
            schema:
              properties: {}
              type: object
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Default Response
        '401':
          content:
            application/json:
              examples:
                NeedLoginError:
                  value:
                    code: NEED_LOGIN
                    error: Unauthorized
                    message: you need to login before logout
                    statusCode: 401
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æœªç™»å½•
          description: æœªç™»å½•
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - auth
  /p1/me:
    get:
      operationId: getCurrentUser
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'
          description: Default Response
        '401':
          content:
            application/json:
              example:
                code: NEED_LOGIN
                error: Unauthorized
                message: you need to login before get current user
                statusCode: 401
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
      summary: è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
      tags:
        - misc
  /p1/notify:
    get:
      operationId: listNotice
      parameters:
        - description: max 40
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 40
            type: integer
        - in: query
          name: unread
          required: false
          schema:
            type: boolean
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Notice'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '401':
          content:
            application/json:
              examples:
                NeedLoginError:
                  value:
                    code: NEED_LOGIN
                    error: Unauthorized
                    message: you need to login before getting notifications
                    statusCode: 401
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æœªç™»å½•
          description: æœªç™»å½•
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æœªè¯»é€šçŸ¥
      tags:
        - misc
  /p1/persons/{personID}:
    get:
      operationId: getPerson
      parameters:
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Person'
          description: Default Response
        '404':
          content:
            application/json:
              examples:
                NOT_FOUND:
                  value:
                    code: NOT_FOUND
                    error: Not Found
                    message: person not found
                    statusCode: 404
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©
      tags:
        - person
  /p1/persons/{personID}/casts:
    get:
      operationId: getPersonCasts
      parameters:
        - in: query
          name: subjectType
          required: false
          schema:
            $ref: '#/components/schemas/SubjectType'
        - description: 'è§’è‰²å‡ºåœºç±»å‹: ä¸»è§’ï¼Œé…è§’ï¼Œå®¢ä¸²'
          in: query
          name: type
          required: false
          schema:
            type: integer
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/PersonCharacter'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              examples:
                NOT_FOUND:
                  value:
                    code: NOT_FOUND
                    error: Not Found
                    message: person not found
                    statusCode: 404
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©çš„å‡ºæ¼”è§’è‰²
      tags:
        - person
  /p1/persons/{personID}/collects:
    get:
      operationId: getPersonCollects
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/PersonCollect'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              examples:
                NOT_FOUND:
                  value:
                    code: NOT_FOUND
                    error: Not Found
                    message: person not found
                    statusCode: 404
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©çš„æ”¶è—ç”¨æˆ·
      tags:
        - person
  /p1/persons/{personID}/works:
    get:
      operationId: getPersonWorks
      parameters:
        - in: query
          name: subjectType
          required: false
          schema:
            $ref: '#/components/schemas/SubjectType'
        - description: èŒä½
          in: query
          name: position
          required: false
          schema:
            type: integer
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/PersonWork'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              examples:
                NOT_FOUND:
                  value:
                    code: NOT_FOUND
                    error: Not Found
                    message: person not found
                    statusCode: 404
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©çš„å‚ä¸ä½œå“
      tags:
        - person
  /p1/subjects:
    get:
      operationId: getSubjects
      parameters:
        - in: query
          name: type
          required: true
          schema:
            $ref: '#/components/schemas/SubjectType'
        - in: query
          name: sort
          required: true
          schema:
            $ref: '#/components/schemas/SubjectSort'
        - description: min 1
          in: query
          name: page
          required: false
          schema:
            default: 1
            minimum: 1
            type: integer
        - description: >-
            æ¯ç§æ¡ç›®ç±»å‹åˆ†ç±»ä¸åŒï¼Œå…·ä½“å‚è€ƒ https://github.com/bangumi/common çš„
            subject_platforms.yaml
          in: query
          name: cat
          required: false
          schema:
            type: integer
        - description: æ˜¯å¦ä¸ºç³»åˆ—ï¼Œä»…å¯¹ä¹¦ç±ç±»å‹çš„æ¡ç›®æœ‰æ•ˆ
          in: query
          name: series
          required: false
          schema:
            type: boolean
        - description: å¹´ä»½
          in: query
          name: year
          required: false
          schema:
            type: integer
        - description: æœˆä»½
          in: query
          name: month
          required: false
          schema:
            type: integer
        - in: query
          name: tags
          required: false
          schema:
            items:
              description: wiki æ ‡ç­¾ï¼ŒåŒ…æ‹¬ åˆ†ç±»/æ¥æº/ç±»å‹/é¢˜æ/åœ°åŒº/å—ä¼— ç­‰
              type: string
            type: array
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Subject'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®åˆ—è¡¨
      tags:
        - subject
  /p1/subjects/-/episode/{episodeID}:
    get:
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Default Response
  /p1/subjects/-/episode/{episodeID}/comments:
    get:
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Default Response
  /p1/subjects/-/episodes/{episodeID}:
    get:
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Default Response
  /p1/subjects/-/episodes/{episodeID}/comments:
    get:
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Default Response
  /p1/subjects/-/posts/{postID}:
    delete:
      operationId: deleteSubjectPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤æ¡ç›®è®¨è®ºå›å¤
      tags:
        - topic
    get:
      operationId: getSubjectPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Post'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: è·å–æ¡ç›®è®¨è®ºå›å¤è¯¦æƒ…
      tags:
        - topic
    put:
      operationId: editSubjectPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePost'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘æ¡ç›®è®¨è®ºå›å¤
      tags:
        - topic
  /p1/subjects/-/topics/{topicID}:
    get:
      operationId: getSubjectTopic
      parameters:
        - in: path
          name: topicID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubjectTopic'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®è®¨è®ºè¯¦æƒ…
      tags:
        - topic
    put:
      operationId: updateSubjectTopic
      parameters:
        - in: path
          name: topicID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                content:
                  description: bbcode
                  minLength: 1
                  type: string
                title:
                  minLength: 1
                  type: string
              required:
                - title
                - content
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘è‡ªå·±åˆ›å»ºçš„æ¡ç›®è®¨è®º
      tags:
        - topic
  /p1/subjects/-/topics/{topicID}/replies:
    post:
      operationId: createSubjectReply
      parameters:
        - in: path
          name: topicID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePost'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºæ¡ç›®è®¨è®ºå›å¤
      tags:
        - topic
  /p1/subjects/{subjectID}:
    get:
      operationId: getSubject
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subject'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®
      tags:
        - subject
  /p1/subjects/{subjectID}/characters:
    get:
      operationId: getSubjectCharacters
      parameters:
        - description: 'è§’è‰²å‡ºåœºç±»å‹: ä¸»è§’ï¼Œé…è§’ï¼Œå®¢ä¸²'
          in: query
          name: type
          required: false
          schema:
            type: integer
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectCharacter'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„è§’è‰²
      tags:
        - subject
  /p1/subjects/{subjectID}/comments:
    get:
      operationId: getSubjectComments
      parameters:
        - in: query
          name: type
          required: false
          schema:
            $ref: '#/components/schemas/CollectionType'
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectComment'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„åæ§½ç®±
      tags:
        - subject
  /p1/subjects/{subjectID}/episodes:
    get:
      operationId: getSubjectEpisodes
      parameters:
        - in: query
          name: type
          required: false
          schema:
            $ref: '#/components/schemas/EpisodeType'
        - description: max 1000
          in: query
          name: limit
          required: false
          schema:
            default: 100
            maximum: 1000
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Episode'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„å‰§é›†
      tags:
        - subject
  /p1/subjects/{subjectID}/recs:
    get:
      operationId: getSubjectRecs
      parameters:
        - description: max 10
          in: query
          name: limit
          required: false
          schema:
            default: 10
            maximum: 10
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectRec'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„æ¨è
      tags:
        - subject
  /p1/subjects/{subjectID}/relations:
    get:
      operationId: getSubjectRelations
      parameters:
        - in: query
          name: type
          required: false
          schema:
            $ref: '#/components/schemas/SubjectType'
        - description: æ˜¯å¦å•è¡Œæœ¬
          in: query
          name: offprint
          required: false
          schema:
            default: false
            type: boolean
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectRelation'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„å…³è”æ¡ç›®
      tags:
        - subject
  /p1/subjects/{subjectID}/reviews:
    get:
      operationId: getSubjectReviews
      parameters:
        - description: max 20
          in: query
          name: limit
          required: false
          schema:
            default: 5
            maximum: 20
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectReview'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„è¯„è®º
      tags:
        - subject
  /p1/subjects/{subjectID}/staffs/persons:
    get:
      operationId: getSubjectStaffPersons
      parameters:
        - description: 'äººç‰©èŒä½: ç›‘ç£ï¼ŒåŸæ¡ˆï¼Œè„šæœ¬,..'
          in: query
          name: position
          required: false
          schema:
            type: integer
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectStaff'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„åˆ¶ä½œäººå‘˜
      tags:
        - subject
  /p1/subjects/{subjectID}/staffs/positions:
    get:
      operationId: getSubjectStaffPositions
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectPosition'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„åˆ¶ä½œäººå‘˜èŒä½
      tags:
        - subject
  /p1/subjects/{subjectID}/topics:
    get:
      operationId: getSubjectTopics
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Topic'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®è®¨è®ºç‰ˆ
      tags:
        - subject
    post:
      operationId: createSubjectTopic
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTopic'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    description: new topic id
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºæ¡ç›®è®¨è®º
      tags:
        - subject
  /p1/timeline:
    get:
      operationId: getTimeline
      parameters:
        - description: ç™»å½•æ—¶é»˜è®¤ä¸º friends, æœªç™»å½•æˆ–æ²¡æœ‰å¥½å‹æ—¶å§‹ç»ˆä¸º all
          in: query
          name: mode
          required: false
          schema:
            $ref: '#/components/schemas/FilterMode'
        - description: min 1, max 20
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 20
            minimum: 1
            type: integer
        - description: max timeline id to fetch from
          in: query
          name: until
          required: false
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/Timeline'
                type: array
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ—¶é—´çº¿
      tags:
        - timeline
    post:
      operationId: createTimelineSay
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTimelineSay'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: å‘é€æ—¶é—´çº¿åæ§½
      tags:
        - timeline
  /p1/trending/subjects:
    get:
      operationId: getTrendingSubjects
      parameters:
        - in: query
          name: type
          required: true
          schema:
            $ref: '#/components/schemas/SubjectType'
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/TrendingSubject'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–çƒ­é—¨æ¡ç›®
      tags:
        - trending
  /p1/turnstile:
    get:
      description: ä¸ºé˜²æ­¢æ»¥ç”¨ï¼ŒRedirect URI ä¸ºç™½åå•æœºåˆ¶ï¼Œå¦‚éœ€æ·»åŠ è¯·æäº¤ PRã€‚
      operationId: getTurnstileToken
      parameters:
        - in: query
          name: theme
          required: false
          schema:
            anyOf:
              - enum:
                  - dark
                type: string
              - enum:
                  - light
                type: string
              - enum:
                  - auto
                type: string
        - in: query
          name: redirect_uri
          required: true
          schema:
            type: string
      responses:
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: è·å– Turnstile ä»¤ç‰Œ
      tags:
        - auth
  /p1/users/{username}:
    get:
      operationId: getUser
      parameters:
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·ä¿¡æ¯
      tags:
        - user
  /p1/users/{username}/blogs:
    get:
      operationId: getUserBlogs
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimBlogEntry'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·åˆ›å»ºçš„æ—¥å¿—
      tags:
        - user
  /p1/users/{username}/collections/characters:
    get:
      operationId: getUserCharacterCollections
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimCharacter'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·è§’è‰²æ”¶è—
      tags:
        - user
  /p1/users/{username}/collections/indexes:
    get:
      operationId: getUserIndexCollections
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimIndex'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·ç›®å½•æ”¶è—
      tags:
        - user
  /p1/users/{username}/collections/persons:
    get:
      operationId: getUserPersonCollections
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimPerson'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·äººç‰©æ”¶è—
      tags:
        - user
  /p1/users/{username}/collections/subjects:
    get:
      operationId: getUserSubjectCollections
      parameters:
        - in: query
          name: subjectType
          required: false
          schema:
            $ref: '#/components/schemas/SubjectType'
        - in: query
          name: type
          required: false
          schema:
            $ref: '#/components/schemas/CollectionType'
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimSubject'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·æ¡ç›®æ”¶è—
      tags:
        - user
  /p1/users/{username}/followers:
    get:
      operationId: getUserFollowers
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimUser'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·çš„å…³æ³¨è€…åˆ—è¡¨
      tags:
        - user
  /p1/users/{username}/friends:
    get:
      operationId: getUserFriends
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimUser'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·çš„å¥½å‹åˆ—è¡¨
      tags:
        - user
  /p1/users/{username}/groups:
    get:
      operationId: getUserGroups
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimGroup'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·åŠ å…¥çš„å°ç»„
      tags:
        - user
  /p1/users/{username}/indexes:
    get:
      operationId: getUserIndexes
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimIndex'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·åˆ›å»ºçš„ç›®å½•
      tags:
        - user
  /p1/users/{username}/timeline:
    get:
      operationId: getUserTimeline
      parameters:
        - description: min 1, max 20
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 20
            minimum: 1
            type: integer
        - description: max timeline id to fetch from
          in: query
          name: until
          required: false
          schema:
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/Timeline'
                type: array
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·æ—¶é—´èƒ¶å›Š
      tags:
        - user
  /p1/wiki/ep/{episodeID}:
    get:
      operationId: getEpisodeWikiInfo
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              example:
                date: '2012-12-23'
                duration: '00:23:37'
                ep: 60
                id: 1148124
                name: ã‚­ãƒãƒªÃ—ãƒˆÃ—ãƒã‚¸ãƒãƒª
                nameCN: ç»“æœ«Ã—ä¸Ã—å¼€å§‹
                subjectID: 65536
                summary: >-
                  ã‚´ãƒ³ã¨ã‚­ãƒ«ã‚¢ã¯G.I.ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼é¸è€ƒä¼šã«ã„ã‚ˆã„ã‚ˆæŒ‘æˆ¦ã™ã‚‹ã€‚å¯©æŸ»ã‚’æ‹…å½“ã™ã‚‹ãƒ„ã‚§ã‚ºã‚²ãƒ©ã‹ã‚‰æç¤ºã•ã‚ŒãŸåˆæ ¼ã®æ¡ä»¶ã¯ãŸã ä¸€ã¤ã€Œç·´ã‚’è¦‹ã›ã‚‹ã€ã“ã¨ã€‚åˆæ ¼ã§ãã‚‹è€…ã¯200äººä¸­32åã¨ã„ã†ç‹­ãé–€ã ãŒã€ã‚´ãƒ³ã¨ã‚­ãƒ«ã‚¢ã¯ããã‚ŠæŠœã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã‹ï¼ï¼Ÿ
                type: 0
              schema:
                $ref: '#/components/schemas/EpisodeWikiInfo'
          description: Default Response
        '404':
          content:
            application/json:
              examples:
                NOT_FOUND:
                  value:
                    code: NOT_FOUND
                    error: Not Found
                    message: episode not found
                    statusCode: 404
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
      tags:
        - wiki
    patch:
      operationId: patchEpisodeWikiInfo
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            example:
              commitMessage: why this episode is edited
              episode:
                date: '2022-01-20'
                duration: '24:53'
                ep: 4
                name: name
                nameCN: ä¸­æ–‡å
                summary: a short description
                type: 0
              expectedRevision:
                name: old name
                nameCN: old cn name
            schema:
              properties:
                commitMessage:
                  type: string
                episode:
                  properties:
                    date:
                      description: YYYY-MM-DD
                      example: '2022-02-02'
                      pattern: ^\d{4}-\d{2}-\d{2}$
                      type: string
                    disc:
                      type: number
                    duration:
                      example: '24:53'
                      type: string
                    ep:
                      type: number
                    name:
                      type: string
                    nameCN:
                      type: string
                    subjectID:
                      type: integer
                    summary:
                      type: string
                    type:
                      $ref: '#/components/schemas/EpisodeType'
                  type: object
                expectedRevision:
                  description: >-
                    a optional object to check if input is changed by others

                    if some key is given, and current data in database doesn't
                    match input, subject will not be changed
                  properties:
                    date:
                      type: string
                    duration:
                      type: string
                    name:
                      type: string
                    nameCN:
                      type: string
                    summary:
                      type: string
                  type: object
              required:
                - commitMessage
                - episode
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: invalid input
          description: invalid input
        '404':
          content:
            application/json:
              examples:
                NOT_FOUND:
                  value:
                    code: NOT_FOUND
                    error: Not Found
                    message: episode 1 not found
                    statusCode: 404
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
      tags:
        - wiki
  /p1/wiki/lock/subjects:
    post:
      operationId: lockSubject
      requestBody:
        content:
          application/json:
            schema:
              properties:
                reason:
                  type: string
                subjectID:
                  example: 184017
                  type: integer
              required:
                - subjectID
                - reason
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - wiki
  /p1/wiki/persons/{personID}:
    get:
      description: è·å–å½“å‰çš„ wiki ä¿¡æ¯
      operationId: getPersonWikiInfo
      parameters:
        - in: path
          name: personID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PersonWikiInfo'
          description: Default Response
        '401':
          content:
            application/json:
              examples:
                INVALID_SYNTAX_ERROR:
                  value:
                    code: INVALID_SYNTAX_ERROR
                    error: Bad Request
                    message: '%s'
                    statusCode: 400
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: è§’è‰²ä¸å­˜åœ¨
          description: è§’è‰²ä¸å­˜åœ¨
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      tags:
        - wiki
    patch:
      operationId: patchPersonInfo
      parameters:
        - in: path
          name: personID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: false
              properties:
                commitMessage:
                  minLength: 1
                  type: string
                expectedRevision:
                  additionalProperties: false
                  default: {}
                  properties:
                    infobox:
                      minLength: 1
                      type: string
                    name:
                      minLength: 1
                      type: string
                    summary:
                      type: string
                  type: object
                person:
                  additionalProperties: false
                  properties:
                    infobox:
                      minLength: 1
                      type: string
                    name:
                      minLength: 1
                      type: string
                    summary:
                      type: string
                  type: object
              required:
                - commitMessage
                - expectedRevision
                - person
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '400':
          content:
            application/json:
              examples:
                WIKI_CHANGED:
                  value:
                    code: WIKI_CHANGED
                    error: Bad Request
                    message: >-
                      expected data doesn't match, name changed, expecting "1",
                      currently "2"
                    statusCode: 400
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '401':
          content:
            application/json:
              examples:
                INVALID_SYNTAX_ERROR:
                  value:
                    code: INVALID_SYNTAX_ERROR
                    error: Bad Request
                    message: '%s'
                    statusCode: 400
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      tags:
        - wiki
  /p1/wiki/recent:
    get:
      description: è·å–æœ€è¿‘ä¸¤å¤©çš„wikiæ›´æ–°
      operationId: getRecentWiki
      parameters:
        - description: |-
            unix time stamp, only return last update time >= since

            only allow recent 2 days
          in: path
          name: since
          required: true
          schema:
            default: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecentWikiChange'
          description: Default Response
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - wiki
  /p1/wiki/subjects:
    post:
      description: åˆ›å»ºæ–°æ¡ç›®
      operationId: createNewSubject
      requestBody:
        content:
          application/json:
            schema:
              properties:
                infobox:
                  minLength: 1
                  type: string
                metaTags:
                  items:
                    type: string
                  type: array
                name:
                  minLength: 1
                  type: string
                nsfw:
                  type: boolean
                platform:
                  type: integer
                summary:
                  type: string
                type:
                  $ref: '#/components/schemas/SubjectType'
              required:
                - name
                - type
                - platform
                - infobox
                - nsfw
                - metaTags
                - summary
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  subjectID:
                    type: number
                required:
                  - subjectID
                type: object
          description: Default Response
        '400':
          content:
            application/json:
              examples:
                INVALID_SYNTAX_ERROR:
                  value:
                    code: INVALID_SYNTAX_ERROR
                    error: Bad Request
                    message: '%s'
                    statusCode: 400
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      tags:
        - wiki
  /p1/wiki/subjects/{subjectID}:
    get:
      description: è·å–å½“å‰çš„ wiki ä¿¡æ¯
      operationId: subjectInfo
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubjectWikiInfo'
          description: Default Response
        '401':
          content:
            application/json:
              examples:
                INVALID_SYNTAX_ERROR:
                  value:
                    code: INVALID_SYNTAX_ERROR
                    error: Bad Request
                    message: '%s'
                    statusCode: 400
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
      tags:
        - wiki
    patch:
      operationId: patchSubjectInfo
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            example:
              commitMessage: ä¿®æ­£ç¬”è¯¯
              subject:
                infobox: |-
                  {{Infobox animanga/TVAnime
                  |ä¸­æ–‡å= æ²™ç›’
                  |åˆ«å={
                  }
                  |è¯æ•°= 7
                  |æ”¾é€å¼€å§‹= 0000-10-06
                  |æ”¾é€æ˜ŸæœŸ= 
                  |å®˜æ–¹ç½‘ç«™= 
                  |æ’­æ”¾ç”µè§†å°= 
                  |å…¶ä»–ç”µè§†å°= 
                  |æ’­æ”¾ç»“æŸ= 
                  |å…¶ä»–= 
                  |Copyright= 
                  |å¹³å°={
                  [é¾Ÿå£³]
                  [Xbox Series S]
                  [Xbox Series X]
                  [Xbox Series X/S]
                  [PC]
                  [Xbox Series X|S]
                  }
                  }}
            schema:
              properties:
                commitMessage:
                  minLength: 1
                  type: string
                expectedRevision:
                  description: >-
                    a optional object to check if input is changed by others

                    if `infobox` is given, and current data in database doesn't
                    match input, subject will not be changed
                  properties:
                    infobox:
                      minLength: 1
                      type: string
                    metaTags:
                      items:
                        type: string
                      type: array
                    name:
                      minLength: 1
                      type: string
                    platform:
                      type: integer
                  type: object
                subject:
                  example:
                    infobox: |-
                      {{Infobox animanga/TVAnime
                      |ä¸­æ–‡å= æ²™ç›’
                      |åˆ«å={
                      }
                      |è¯æ•°= 7
                      |æ”¾é€å¼€å§‹= 0000-10-06
                      |æ”¾é€æ˜ŸæœŸ= 
                      |å®˜æ–¹ç½‘ç«™= 
                      |æ’­æ”¾ç”µè§†å°= 
                      |å…¶ä»–ç”µè§†å°= 
                      |æ’­æ”¾ç»“æŸ= 
                      |å…¶ä»–= 
                      |Copyright= 
                      |å¹³å°={
                      [é¾Ÿå£³]
                      [Xbox Series S]
                      [Xbox Series X]
                      [Xbox Series X/S]
                      [PC]
                      [Xbox Series X|S]
                      }
                      }}
                    name: æ²™ç›’
                    nsfw: false
                    platform: 0
                    summary: >-
                      æœ¬æ¡ç›®æ˜¯ä¸€ä¸ªæ²™ç›’ï¼Œå¯ä»¥ç”¨äºå°è¯•bgmåŠŸèƒ½ã€‚


                      æ™®é€šç»´åŸºäººå¯ä»¥éšæ„ç¼–è¾‘æ¡ç›®ä¿¡æ¯ä»¥åŠç›¸å…³å…³è”æŸ¥çœ‹ç¼–è¾‘æ•ˆæœï¼Œä½†æ˜¯è¯·ä¸è¦å®Œå…¨åˆ é™¤æ²™ç›’è¯´æ˜å¹¶ä¸”ä¸è¦å…³è”éæ²™ç›’æ¡ç›®/äººç‰©/è§’è‰²ã€‚


                      https://bgm.tv/group/topic/366812#post_1923517
                  properties:
                    date:
                      example: '0000-00-00'
                      pattern: ^\d{4}-\d{2}-\d{2}$
                      type: string
                    infobox:
                      minLength: 1
                      type: string
                    metaTags:
                      items:
                        type: string
                      type: array
                    name:
                      minLength: 1
                      type: string
                    nsfw:
                      type: boolean
                    platform:
                      type: integer
                    summary:
                      type: string
                  type: object
              required:
                - commitMessage
                - subject
              type: object
        required: true
      responses:
        '200':
          description: Default Response
        '401':
          content:
            application/json:
              examples:
                INVALID_SYNTAX_ERROR:
                  value:
                    code: INVALID_SYNTAX_ERROR
                    error: Bad Request
                    message: '%s'
                    statusCode: 400
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
      tags:
        - wiki
    put:
      description: éœ€è¦ `subjectWikiEdit` æƒé™
      operationId: putSubjectInfo
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            example:
              commitMessage: ä¿®æ­£ç¬”è¯¯
              subject:
                infobox: |-
                  {{Infobox animanga/TVAnime
                  |ä¸­æ–‡å= æ²™ç›’
                  |åˆ«å={
                  }
                  |è¯æ•°= 7
                  |æ”¾é€å¼€å§‹= 0000-10-06
                  |æ”¾é€æ˜ŸæœŸ= 
                  |å®˜æ–¹ç½‘ç«™= 
                  |æ’­æ”¾ç”µè§†å°= 
                  |å…¶ä»–ç”µè§†å°= 
                  |æ’­æ”¾ç»“æŸ= 
                  |å…¶ä»–= 
                  |Copyright= 
                  |å¹³å°={
                  [é¾Ÿå£³]
                  [Xbox Series S]
                  [Xbox Series X]
                  [Xbox Series X/S]
                  [PC]
                  [Xbox Series X|S]
                  }
                  }}
                name: æ²™ç›’
                nsfw: false
                platform: 0
                summary: |-
                  æœ¬æ¡ç›®æ˜¯ä¸€ä¸ªæ²™ç›’ï¼Œå¯ä»¥ç”¨äºå°è¯•bgmåŠŸèƒ½ã€‚

                  æ™®é€šç»´åŸºäººå¯ä»¥éšæ„ç¼–è¾‘æ¡ç›®ä¿¡æ¯ä»¥åŠç›¸å…³å…³è”æŸ¥çœ‹ç¼–è¾‘æ•ˆæœï¼Œä½†æ˜¯è¯·ä¸è¦å®Œå…¨åˆ é™¤æ²™ç›’è¯´æ˜å¹¶ä¸”ä¸è¦å…³è”éæ²™ç›’æ¡ç›®/äººç‰©/è§’è‰²ã€‚

                  https://bgm.tv/group/topic/366812#post_1923517
            schema:
              properties:
                commitMessage:
                  minLength: 1
                  type: string
                expectedRevision:
                  description: >-
                    a optional object to check if input is changed by others

                    if `infobox` is given, and current data in database doesn't
                    match input, subject will not be changed
                  properties:
                    infobox:
                      minLength: 1
                      type: string
                    metaTags:
                      items:
                        type: string
                      type: array
                    name:
                      minLength: 1
                      type: string
                    platform:
                      type: integer
                  type: object
                subject:
                  $ref: '#/components/schemas/SubjectEdit'
              required:
                - commitMessage
                - subject
              type: object
        required: true
      responses:
        '200':
          description: Default Response
        '401':
          content:
            application/json:
              examples:
                INVALID_SYNTAX_ERROR:
                  value:
                    code: INVALID_SYNTAX_ERROR
                    error: Bad Request
                    message: '%s'
                    statusCode: 400
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
      tags:
        - wiki
  /p1/wiki/subjects/{subjectID}/covers:
    get:
      operationId: listSubjectCovers
      parameters:
        - example: 184017
          in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  covers:
                    items:
                      properties:
                        creator:
                          properties:
                            avatar:
                              $ref: '#/components/schemas/Avatar'
                            id:
                              example: 1
                              type: integer
                            joinedAt:
                              type: integer
                            nickname:
                              example: SaiğŸ––
                              type: string
                            sign:
                              type: string
                            username:
                              example: sai
                              type: string
                          required:
                            - id
                            - username
                            - nickname
                            - avatar
                            - sign
                            - joinedAt
                          title: SlimUser
                          type: object
                        id:
                          type: integer
                        raw:
                          type: string
                        thumbnail:
                          type: string
                        voted:
                          type: boolean
                      required:
                        - id
                        - thumbnail
                        - raw
                        - creator
                        - voted
                      type: object
                    type: array
                  current:
                    properties:
                      id:
                        type: integer
                      raw:
                        type: string
                      thumbnail:
                        type: string
                    required:
                      - thumbnail
                      - raw
                      - id
                    type: object
                required:
                  - covers
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - wiki
    post:
      description: éœ€è¦ `subjectWikiEdit` æƒé™
      operationId: uploadSubjectCover
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                content:
                  description: base64 encoded raw bytes, 4mb size limit on **decoded** size
                  format: byte
                  type: string
              required:
                - content
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '400':
          content:
            application/json:
              examples:
                IMAGE_FILE_TOO_LARGE:
                  value:
                    code: IMAGE_FILE_TOO_LARGE
                    error: Bad Request
                    message: uploaded image file is too large
                    statusCode: 400
                IMAGE_FORMAT_NOT_SUPPORT:
                  value:
                    code: IMAGE_FORMAT_NOT_SUPPORT
                    error: Bad Request
                    message: not valid image file, only support jpeg, jpg, png, webp
                    statusCode: 400
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '401':
          content:
            application/json:
              examples:
                NOT_ALLOWED:
                  value:
                    code: NOT_ALLOWED
                    error: Unauthorized
                    message: you don't have permission to non sandbox subject
                    statusCode: 401
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - wiki
  /p1/wiki/subjects/{subjectID}/covers/{imageID}/vote:
    delete:
      description: éœ€è¦ `subjectWikiEdit` æƒé™
      operationId: unvoteSubjectCover
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
        - in: path
          name: imageID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: æ’¤æ¶ˆæ¡ç›®å°é¢æŠ•ç¥¨
      tags:
        - wiki
    post:
      description: éœ€è¦ `subjectWikiEdit` æƒé™
      operationId: voteSubjectCover
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
        - in: path
          name: imageID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: ä¸ºæ¡ç›®å°é¢æŠ•ç¥¨
      tags:
        - wiki
  /p1/wiki/subjects/{subjectID}/ep:
    patch:
      description: éœ€è¦ `epEdit` æƒé™ï¼Œä¸€æ¬¡æœ€å¤šå¯ä»¥ç¼–è¾‘ 20 ä¸ªç« èŠ‚
      operationId: patchEpisodes
      parameters:
        - example: 363612
          in: path
          name: subjectID
          required: true
          schema:
            minimum: 0
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                commitMessage:
                  type: string
                episodes:
                  items:
                    properties:
                      date:
                        description: YYYY-MM-DD
                        example: '2022-02-02'
                        pattern: ^\d{4}-\d{2}-\d{2}$
                        type: string
                      disc:
                        type: number
                      duration:
                        example: '24:53'
                        type: string
                      ep:
                        type: number
                      id:
                        type: integer
                      name:
                        type: string
                      nameCN:
                        type: string
                      summary:
                        type: string
                      type:
                        $ref: '#/components/schemas/EpisodeType'
                    required:
                      - id
                    type: object
                  type: array
                expectedRevision:
                  items:
                    description: >-
                      a optional object to check if input is changed by others

                      if some key is given, and current data in database doesn't
                      match input, subject will not be changed
                    properties:
                      date:
                        type: string
                      duration:
                        type: string
                      name:
                        type: string
                      nameCN:
                        type: string
                      summary:
                        type: string
                    type: object
                  type: array
              required:
                - commitMessage
                - episodes
              type: object
        required: true
      responses:
        '200':
          description: Default Response
        '401':
          content:
            application/json:
              examples:
                INVALID_SYNTAX_ERROR:
                  value:
                    code: INVALID_SYNTAX_ERROR
                    error: Bad Request
                    message: '%s'
                    statusCode: 400
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ‰¹é‡ç¼–è¾‘æ¡ç›®ç« èŠ‚
      tags:
        - wiki
    post:
      description: éœ€è¦ `epEdit` æƒé™ï¼Œä¸€æ¬¡æœ€å¤šå¯ä»¥æ·»åŠ  40 ä¸ªç« èŠ‚
      operationId: createEpisodes
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                episodes:
                  items:
                    properties:
                      date:
                        description: YYYY-MM-DD
                        example: '2022-02-02'
                        pattern: ^\d{4}-\d{2}-\d{2}$
                        type: string
                      disc:
                        type: number
                      duration:
                        example: '24:53'
                        type: string
                      ep:
                        type: number
                      name:
                        type: string
                      nameCN:
                        type: string
                      summary:
                        type: string
                      type:
                        $ref: '#/components/schemas/EpisodeType'
                    required:
                      - ep
                    type: object
                  type: array
              required:
                - episodes
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  episodeIDs:
                    items:
                      type: integer
                    type: array
                required:
                  - episodeIDs
                type: object
          description: Default Response
        '401':
          content:
            application/json:
              examples:
                INVALID_SYNTAX_ERROR:
                  value:
                    code: INVALID_SYNTAX_ERROR
                    error: Bad Request
                    message: '%s'
                    statusCode: 400
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ä¸ºæ¡ç›®æ·»åŠ æ–°ç« èŠ‚
      tags:
        - wiki
  /p1/wiki/subjects/{subjectID}/history-summary:
    get:
      description: è·å–å½“å‰çš„ wiki ä¿¡æ¯
      operationId: subjectEditHistorySummary
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/HistorySummary'
                type: array
          description: Default Response
        '401':
          content:
            application/json:
              examples:
                INVALID_SYNTAX_ERROR:
                  value:
                    code: INVALID_SYNTAX_ERROR
                    error: Bad Request
                    message: '%s'
                    statusCode: 400
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
      tags:
        - wiki
  /p1/wiki/unlock/subjects:
    post:
      operationId: unlockSubject
      requestBody:
        content:
          application/json:
            schema:
              properties:
                reason:
                  type: string
                subjectID:
                  example: 184017
                  type: integer
              required:
                - subjectID
                - reason
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
                description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - wiki
