components:
  schemas:
    Avatar:
      properties:
        large:
          type: string
        medium:
          example: sai
          type: string
        small:
          type: string
      required:
        - small
        - medium
        - large
      title: Avatar
      type: object
    BlogEntry:
      properties:
        content:
          type: string
        createdAt:
          type: integer
        icon:
          type: string
        id:
          type: integer
        noreply:
          type: integer
        public:
          type: boolean
        related:
          type: integer
        replies:
          type: integer
        tags:
          items:
            type: string
          type: array
        title:
          type: string
        type:
          type: integer
        uid:
          type: integer
        updatedAt:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
        views:
          type: integer
      required:
        - id
        - type
        - uid
        - user
        - title
        - icon
        - content
        - tags
        - views
        - replies
        - createdAt
        - updatedAt
        - noreply
        - related
        - public
      title: BlogEntry
      type: object
    BlogPhoto:
      properties:
        createdAt:
          type: integer
        icon:
          type: string
        id:
          type: integer
        target:
          type: string
        vote:
          type: integer
      required:
        - id
        - target
        - icon
        - vote
        - createdAt
      title: BlogPhoto
      type: object
    Calendar:
      additionalProperties:
        items:
          properties:
            subject:
              $ref: '#/components/schemas/SlimSubject'
            watchers:
              type: integer
          required:
            - subject
            - watchers
          type: object
        type: array
      type: object
    CalendarItem:
      properties:
        subject:
          $ref: '#/components/schemas/SlimSubject'
        watchers:
          type: integer
      required:
        - subject
        - watchers
      type: object
    Character:
      properties:
        collectedAt:
          type: integer
        collects:
          type: integer
        comment:
          type: integer
        id:
          type: integer
        images:
          $ref: '#/components/schemas/PersonImages'
        info:
          type: string
        infobox:
          $ref: '#/components/schemas/Infobox'
        lock:
          type: boolean
        name:
          type: string
        nameCN:
          type: string
        nsfw:
          type: boolean
        redirect:
          type: integer
        role:
          type: integer
        summary:
          type: string
      required:
        - id
        - name
        - nameCN
        - role
        - infobox
        - info
        - summary
        - comment
        - collects
        - lock
        - redirect
        - nsfw
      title: Character
      type: object
    CharacterCast:
      properties:
        person:
          $ref: '#/components/schemas/SlimPerson'
        relation:
          $ref: '#/components/schemas/CharacterCastType'
        summary:
          type: string
      required:
        - person
        - relation
        - summary
      type: object
    CharacterCastType:
      description: |-
        Character cast relation type
          - 0 = CV
          - 1 = Dub
          - 2 = Actor
          - 3 = Chinese dub
          - 4 = Japanese dub
          - 5 = English dub
          - 6 = Korean dub
      enum:
        - 0
        - 2
        - 1
        - 3
        - 4
        - 5
        - 6
      type: integer
      x-enum-varnames:
        - CV
        - Actor
        - Dub
        - ChineseDub
        - JapaneseDub
        - EnglishDub
        - KoreanDub
      x-ms-enum:
        modelAsString: false
        name: CharacterCastType
    CharacterRelation:
      properties:
        character:
          $ref: '#/components/schemas/SlimCharacter'
        comment:
          type: string
        ended:
          type: boolean
        relation:
          $ref: '#/components/schemas/PersonRelationType'
        spoiler:
          type: boolean
      required:
        - character
        - relation
        - spoiler
        - ended
        - comment
      type: object
    CharacterRevisionWikiInfo:
      properties:
        extra:
          properties:
            img:
              type: string
          type: object
        infobox:
          type: string
        name:
          type: string
        summary:
          type: string
      required:
        - name
        - infobox
        - summary
        - extra
      type: object
    CharacterSearchFilter:
      properties:
        nsfw:
          description: |-
            æ— æƒé™çš„ç”¨æˆ·ä¼šç›´æ¥å¿½ç•¥æ­¤å­—æ®µï¼Œä¸ä¼šè¿”å› R18 æ¡ç›®ã€‚
            `null` æˆ–è€… `true` ä¼šè¿”å›åŒ…å« R18 çš„æ‰€æœ‰æœç´¢ç»“æœã€‚
            `false` åªä¼šè¿”å›é R18 æ¡ç›®ã€‚
          type: boolean
      type: object
    CharacterSubject:
      properties:
        casts:
          items:
            $ref: '#/components/schemas/CharacterCast'
          type: array
        subject:
          $ref: '#/components/schemas/SlimSubject'
        type:
          type: integer
      required:
        - subject
        - casts
        - type
      type: object
    CharacterSubjectRelation:
      properties:
        subject:
          $ref: '#/components/schemas/SlimSubject'
        type:
          type: integer
      required:
        - subject
        - type
      type: object
    CharacterWikiInfo:
      properties:
        id:
          type: integer
        infobox:
          type: string
        name:
          type: string
        summary:
          type: string
      required:
        - id
        - name
        - infobox
        - summary
      type: object
    CollectSubject:
      properties:
        comment:
          description: è¯„ä»·
          type: string
        private:
          description: ä»…è‡ªå·±å¯è§
          type: boolean
        progress:
          description: |-
            æ˜¯å¦è‡ªåŠ¨å®Œæˆæ¡ç›®è¿›åº¦ï¼Œä»…åœ¨ `type` ä¸º `çœ‹è¿‡` æ—¶æœ‰æ•ˆï¼Œå¹¶ä¸”ä¸ä¼šäº§ç”Ÿå¯¹åº”çš„æ—¶é—´çº¿è®°å½•ï¼š
                      - ä¹¦ç±æ¡ç›®ä¼šæ£€æŸ¥æ€»çš„è¯æ•°å’Œå·æ•°ï¼Œå¹¶æ›´æ–°æ”¶è—è¿›åº¦åˆ°æœ€æ–°;
                      - åŠ¨ç”»å’Œä¸‰æ¬¡å…ƒä¼šæ ‡è®°æ‰€æœ‰æ­£ç‰‡ç« èŠ‚ä¸ºå·²å®Œæˆï¼Œå¹¶åŒæ—¶æ›´æ–°æ”¶è—è¿›åº¦
          type: boolean
        rate:
          description: è¯„åˆ†ï¼Œ0 è¡¨ç¤ºåˆ é™¤è¯„åˆ†
          maximum: 10
          minimum: 0
          type: integer
        tags:
          items:
            description: æ ‡ç­¾, ä¸èƒ½åŒ…å«ç©ºæ ¼
            type: string
          type: array
        type:
          $ref: '#/components/schemas/CollectionType'
      type: object
    CollectionType:
      description: |-
        æ¡ç›®æ”¶è—çŠ¶æ€
          - 1 = æƒ³çœ‹
          - 2 = çœ‹è¿‡
          - 3 = åœ¨çœ‹
          - 4 = æç½®
          - 5 = æŠ›å¼ƒ
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
      type: integer
      x-enum-varnames:
        - Wish
        - Collect
        - Doing
        - OnHold
        - Dropped
      x-ms-enum:
        modelAsString: false
        name: CollectionType
    Comment:
      allOf:
        - properties:
            content:
              type: string
            createdAt:
              type: integer
            creatorID:
              type: integer
            id:
              type: integer
            mainID:
              type: integer
            reactions:
              items:
                $ref: '#/components/schemas/Reaction'
              type: array
            relatedID:
              type: integer
            state:
              type: integer
            user:
              $ref: '#/components/schemas/SlimUser'
          required:
            - id
            - mainID
            - creatorID
            - relatedID
            - createdAt
            - content
            - state
          type: object
        - properties:
            replies:
              items:
                $ref: '#/components/schemas/CommentBase'
              type: array
          required:
            - replies
          type: object
    CommentBase:
      properties:
        content:
          type: string
        createdAt:
          type: integer
        creatorID:
          type: integer
        id:
          type: integer
        mainID:
          type: integer
        reactions:
          items:
            $ref: '#/components/schemas/Reaction'
          type: array
        relatedID:
          type: integer
        state:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - id
        - mainID
        - creatorID
        - relatedID
        - createdAt
        - content
        - state
      type: object
    CreateContent:
      properties:
        content:
          minLength: 1
          type: string
      required:
        - content
      type: object
    CreateIndex:
      properties:
        desc:
          description: ç›®å½•æè¿°
          type: string
        private:
          description: ä»…è‡ªå·±å¯è§
          type: boolean
        title:
          description: ç›®å½•æ ‡é¢˜
          maxLength: 80
          minLength: 1
          type: string
      required:
        - title
        - desc
      title: CreateIndex
      type: object
    CreateIndexRelated:
      properties:
        award:
          type: string
        cat:
          $ref: '#/components/schemas/IndexRelatedCategory'
        comment:
          type: string
        order:
          type: integer
        sid:
          type: integer
      required:
        - cat
        - sid
      title: CreateIndexRelated
      type: object
    CreateReply:
      properties:
        content:
          minLength: 1
          type: string
        replyTo:
          default: 0
          description: è¢«å›å¤çš„å›å¤ ID, `0` ä»£è¡¨å‘é€é¡¶å±‚å›å¤
          type: integer
      required:
        - content
      type: object
    CreateReport:
      properties:
        comment:
          description: ä¸¾æŠ¥è¯´æ˜ï¼ˆå¯é€‰ï¼‰
          maxLength: 2000
          type: string
        id:
          description: è¢«ä¸¾æŠ¥å¯¹è±¡çš„ ID
          minimum: 1
          type: integer
        type:
          $ref: '#/components/schemas/ReportType'
        value:
          $ref: '#/components/schemas/ReportReason'
      required:
        - type
        - id
        - value
      title: CreateReport
      type: object
    CreateTopic:
      properties:
        content:
          description: bbcode
          minLength: 1
          type: string
        title:
          minLength: 1
          type: string
      required:
        - title
        - content
      type: object
    Episode:
      properties:
        airdate:
          type: string
        collection:
          properties:
            status:
              $ref: '#/components/schemas/EpisodeCollectionStatus'
            updatedAt:
              type: integer
          required:
            - status
          type: object
        comment:
          type: integer
        desc:
          type: string
        disc:
          type: integer
        duration:
          type: string
        id:
          type: integer
        name:
          type: string
        nameCN:
          type: string
        sort:
          type: number
        subject:
          $ref: '#/components/schemas/SlimSubject'
        subjectID:
          type: integer
        type:
          $ref: '#/components/schemas/EpisodeType'
      required:
        - id
        - subjectID
        - sort
        - type
        - disc
        - name
        - nameCN
        - duration
        - airdate
        - comment
        - desc
      title: Episode
      type: object
    EpisodeCollectionStatus:
      description: |-
        ç« èŠ‚æ”¶è—çŠ¶æ€
          - 0 = æ’¤æ¶ˆ/åˆ é™¤
          - 1 = æƒ³çœ‹
          - 2 = çœ‹è¿‡
          - 3 = æŠ›å¼ƒ
      enum:
        - 0
        - 1
        - 2
        - 3
      type: integer
      x-enum-varnames:
        - None
        - Wish
        - Done
        - Dropped
      x-ms-enum:
        modelAsString: false
        name: EpisodeCollectionStatus
    EpisodeType:
      description: |-
        è¯æ•°ç±»å‹
          - 0 = æœ¬ç¯‡
          - 1 = ç‰¹åˆ«ç¯‡
          - 2 = OP
          - 3 = ED
          - 4 = é¢„å‘Š/å®£ä¼ /å¹¿å‘Š
          - 5 = MAD
          - 6 = å…¶ä»–
      enum:
        - 0
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
      type: integer
      x-enum-varnames:
        - Normal
        - Special
        - OP
        - ED
        - Pre
        - MAD
        - Other
      x-ms-enum:
        modelAsString: false
        name: EpisodeType
    EpisodeWikiInfo:
      properties:
        date:
          description: YYYY-MM-DD
          example: '2022-02-02'
          pattern: ^\d{4}-\d{2}-\d{2}$
          type: string
        disc:
          type: number
        duration:
          example: '24:53'
          type: string
        ep:
          type: number
        id:
          type: integer
        name:
          type: string
        nameCN:
          type: string
        subjectID:
          type: integer
        summary:
          type: string
        type:
          $ref: '#/components/schemas/EpisodeType'
      required:
        - id
        - subjectID
        - name
        - nameCN
        - type
        - ep
        - duration
        - summary
      type: object
    EpsisodesEdit:
      properties:
        commitMessage:
          type: string
        episodes:
          items:
            properties:
              date:
                description: YYYY-MM-DD
                example: '2022-02-02'
                pattern: ^\d{4}-\d{2}-\d{2}$
                type: string
              disc:
                type: number
              duration:
                example: '24:53'
                type: string
              ep:
                type: number
              id:
                type: integer
              name:
                type: string
              nameCN:
                type: string
              summary:
                type: string
              type:
                $ref: '#/components/schemas/EpisodeType'
            required:
              - id
            type: object
          type: array
        expectedRevision:
          items:
            properties:
              date:
                type: string
              duration:
                type: string
              name:
                type: string
              nameCN:
                type: string
              summary:
                type: string
            type: object
          type: array
      required:
        - commitMessage
        - episodes
      type: object
    EpsisodesNew:
      properties:
        episodes:
          items:
            properties:
              date:
                description: YYYY-MM-DD
                example: '2022-02-02'
                pattern: ^\d{4}-\d{2}-\d{2}$
                type: string
              disc:
                type: number
              duration:
                example: '24:53'
                type: string
              ep:
                type: number
              name:
                type: string
              nameCN:
                type: string
              summary:
                type: string
              type:
                $ref: '#/components/schemas/EpisodeType'
            required:
              - ep
            type: object
          type: array
      required:
        - episodes
      type: object
    ErrorResponse:
      description: default error response type
      properties:
        code:
          type: string
        error:
          type: string
        message:
          type: string
        statusCode:
          type: integer
      required:
        - code
        - error
        - message
        - statusCode
      type: object
    FilterMode:
      description: |-
        è¿‡æ»¤æ¨¡å¼
          - all = å…¨ç«™
          - friends = å¥½å‹
      enum:
        - all
        - friends
      type: string
      x-enum-varnames:
        - All
        - Friends
      x-ms-enum:
        modelAsString: true
        name: FilterMode
    Friend:
      properties:
        createdAt:
          type: integer
        description:
          type: string
        grade:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - user
        - grade
        - createdAt
        - description
      title: Friend
      type: object
    Group:
      properties:
        accessible:
          type: boolean
        cat:
          type: integer
        createdAt:
          type: integer
        creator:
          $ref: '#/components/schemas/SlimUser'
        creatorID:
          type: integer
        description:
          type: string
        icon:
          $ref: '#/components/schemas/Avatar'
        id:
          type: integer
        members:
          type: integer
        membership:
          $ref: '#/components/schemas/GroupMember'
        name:
          type: string
        nsfw:
          type: boolean
        posts:
          type: integer
        title:
          type: string
        topics:
          type: integer
      required:
        - id
        - cat
        - name
        - nsfw
        - title
        - icon
        - creatorID
        - topics
        - posts
        - members
        - description
        - accessible
        - createdAt
      title: Group
      type: object
    GroupFilterMode:
      description: |-
        å°ç»„è¿‡æ»¤æ¨¡å¼
          - all = æ‰€æœ‰å°ç»„
          - joined = æˆ‘åŠ å…¥çš„å°ç»„
          - managed = æˆ‘ç®¡ç†çš„å°ç»„
      enum:
        - all
        - joined
        - managed
      type: string
      x-enum-varnames:
        - All
        - Joined
        - Managed
      x-ms-enum:
        modelAsString: true
        name: GroupFilterMode
    GroupMember:
      properties:
        joinedAt:
          type: integer
        role:
          $ref: '#/components/schemas/GroupMemberRole'
        uid:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - uid
        - role
        - joinedAt
      title: GroupMember
      type: object
    GroupMemberRole:
      description: |-
        å°ç»„æˆå‘˜è§’è‰²
          - -2 = è®¿å®¢
          - -1 = æ¸¸å®¢
          - 0 = å°ç»„æˆå‘˜
          - 1 = å°ç»„é•¿
          - 2 = å°ç»„ç®¡ç†å‘˜
          - 3 = ç¦è¨€æˆå‘˜
      enum:
        - -2
        - -1
        - 0
        - 1
        - 2
        - 3
      type: integer
      x-enum-varnames:
        - Visitor
        - Guest
        - Member
        - Creator
        - Moderator
        - Blocked
      x-ms-enum:
        modelAsString: false
        name: GroupMemberRole
    GroupSort:
      default: created
      description: |-
        å°ç»„æ’åºæ–¹å¼
          - posts = å¸–å­æ•°
          - topics = ä¸»é¢˜æ•°
          - members = æˆå‘˜æ•°
          - created = åˆ›å»ºæ—¶é—´
          - updated = æœ€æ–°è®¨è®º
      enum:
        - posts
        - topics
        - members
        - created
        - updated
      type: string
    GroupTopic:
      allOf:
        - $ref: '#/components/schemas/Topic'
        - properties:
            group:
              $ref: '#/components/schemas/SlimGroup'
            replies:
              items:
                $ref: '#/components/schemas/Reply'
              type: array
          required:
            - group
            - replies
          type: object
      title: GroupTopic
    GroupTopicFilterMode:
      description: |-
        å°ç»„è¯é¢˜è¿‡æ»¤æ¨¡å¼
          - all = å…¨ç«™
          - joined = å·²åŠ å…¥
          - created = æˆ‘åˆ›å»ºçš„
          - replied = æˆ‘å›å¤çš„
      enum:
        - all
        - joined
        - created
        - replied
      type: string
      x-enum-varnames:
        - All
        - Joined
        - Created
        - Replied
      x-ms-enum:
        modelAsString: true
        name: GroupTopicFilterMode
    Index:
      properties:
        award:
          type: integer
        collectedAt:
          type: integer
        collects:
          type: integer
        createdAt:
          type: integer
        desc:
          type: string
        id:
          type: integer
        private:
          type: boolean
        replies:
          type: integer
        stats:
          $ref: '#/components/schemas/IndexStats'
        title:
          type: string
        total:
          type: integer
        type:
          $ref: '#/components/schemas/IndexType'
        uid:
          type: integer
        updatedAt:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - id
        - uid
        - type
        - title
        - desc
        - private
        - total
        - replies
        - collects
        - stats
        - award
        - createdAt
        - updatedAt
      title: Index
      type: object
    IndexRelated:
      properties:
        award:
          type: string
        blog:
          $ref: '#/components/schemas/SlimBlogEntry'
        cat:
          $ref: '#/components/schemas/IndexRelatedCategory'
        character:
          $ref: '#/components/schemas/SlimCharacter'
        comment:
          type: string
        createdAt:
          type: integer
        episode:
          $ref: '#/components/schemas/Episode'
        groupTopic:
          $ref: '#/components/schemas/GroupTopic'
        id:
          type: integer
        order:
          type: integer
        person:
          $ref: '#/components/schemas/SlimPerson'
        rid:
          type: integer
        sid:
          type: integer
        subject:
          $ref: '#/components/schemas/SlimSubject'
        subjectTopic:
          $ref: '#/components/schemas/SubjectTopic'
        type:
          type: integer
      required:
        - id
        - cat
        - rid
        - type
        - sid
        - order
        - comment
        - award
        - createdAt
      title: IndexRelated
      type: object
    IndexRelatedCategory:
      description: |-
        ç›®å½•å…³è”ç±»å‹
          - 0 = æ¡ç›®
          - 1 = è§’è‰²
          - 2 = äººç‰©
          - 3 = ç« èŠ‚
          - 4 = æ—¥å¿—
          - 5 = å°ç»„è¯é¢˜
          - 6 = æ¡ç›®è®¨è®º
      enum:
        - 0
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
      type: integer
      x-enum-varnames:
        - Subject
        - Character
        - Person
        - Episode
        - Blog
        - GroupTopic
        - SubjectTopic
      x-ms-enum:
        modelAsString: false
        name: IndexRelatedCategory
    IndexStats:
      properties:
        blog:
          type: integer
        character:
          type: integer
        episode:
          type: integer
        groupTopic:
          type: integer
        person:
          type: integer
        subject:
          properties:
            anime:
              type: integer
            book:
              type: integer
            game:
              type: integer
            music:
              type: integer
            real:
              type: integer
          type: object
        subjectTopic:
          type: integer
      required:
        - subject
      title: IndexStats
      type: object
    IndexType:
      description: |-
        ç›®å½•ç±»å‹
          - 0 = ç”¨æˆ·
          - 1 = å…¬å…±
          - 2 = TBA
      enum:
        - 0
        - 1
        - 2
      type: integer
      x-enum-varnames:
        - User
        - Public
        - Award
      x-ms-enum:
        modelAsString: false
        name: IndexType
    Infobox:
      items:
        properties:
          key:
            type: string
          values:
            items:
              properties:
                k:
                  type: string
                v:
                  type: string
              required:
                - v
              title: InfoboxValue
              type: object
            type: array
        required:
          - key
          - values
        title: InfoboxItem
        type: object
      title: Infobox
      type: array
    InfoboxItem:
      properties:
        key:
          type: string
        values:
          items:
            properties:
              k:
                type: string
              v:
                type: string
            required:
              - v
            title: InfoboxValue
            type: object
          type: array
      required:
        - key
        - values
      title: InfoboxItem
      type: object
    InfoboxValue:
      properties:
        k:
          type: string
        v:
          type: string
      required:
        - v
      title: InfoboxValue
      type: object
    LoginRequestBody:
      example:
        email: treeholechan@gmail.com
        password: lovemeplease
        turnstileToken: 10000000-aaaa-bbbb-cccc-000000000001
      properties:
        email:
          minLength: 1
          type: string
        password:
          minLength: 1
          type: string
        turnstileToken:
          minLength: 1
          type: string
      required:
        - email
        - password
        - turnstileToken
      type: object
    Notice:
      properties:
        createdAt:
          type: integer
        id:
          type: integer
        mainID:
          description: å¯¹åº”çš„ topicID, episodeID, userID ...
          type: integer
        relatedID:
          description: å¯¹åº”çš„ postID ...
          type: integer
        sender:
          $ref: '#/components/schemas/SlimUser'
        title:
          type: string
        type:
          description: æŸ¥çœ‹ `./lib/notify.ts` _settings
          type: integer
        unread:
          type: boolean
      required:
        - id
        - type
        - sender
        - title
        - mainID
        - relatedID
        - createdAt
        - unread
      title: Notice
      type: object
    Permissions:
      properties:
        subjectWikiEdit:
          type: boolean
      required:
        - subjectWikiEdit
      title: Permissions
      type: object
    Person:
      properties:
        career:
          description: èŒä¸š
          example: producer
          items:
            type: string
          type: array
        collectedAt:
          type: integer
        collects:
          type: integer
        comment:
          type: integer
        id:
          type: integer
        images:
          $ref: '#/components/schemas/PersonImages'
        info:
          type: string
        infobox:
          $ref: '#/components/schemas/Infobox'
        lock:
          type: boolean
        name:
          type: string
        nameCN:
          type: string
        nsfw:
          type: boolean
        redirect:
          type: integer
        summary:
          type: string
        type:
          type: integer
      required:
        - id
        - name
        - nameCN
        - type
        - infobox
        - info
        - career
        - summary
        - comment
        - collects
        - lock
        - redirect
        - nsfw
      title: Person
      type: object
    PersonCharacter:
      properties:
        character:
          $ref: '#/components/schemas/SlimCharacter'
        relations:
          items:
            $ref: '#/components/schemas/CharacterSubjectRelation'
          type: array
      required:
        - character
        - relations
      type: object
    PersonCollect:
      properties:
        createdAt:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - user
        - createdAt
      type: object
    PersonImages:
      properties:
        grid:
          type: string
        large:
          type: string
        medium:
          type: string
        small:
          type: string
      required:
        - large
        - medium
        - small
        - grid
      title: PersonImages
      type: object
    PersonRelation:
      properties:
        comment:
          type: string
        ended:
          type: boolean
        person:
          $ref: '#/components/schemas/SlimPerson'
        relation:
          $ref: '#/components/schemas/PersonRelationType'
        spoiler:
          type: boolean
      required:
        - person
        - relation
        - spoiler
        - ended
        - comment
      type: object
    PersonRelationType:
      properties:
        cn:
          type: string
        desc:
          type: string
        id:
          type: integer
        primary:
          type: boolean
        skipViceVersa:
          type: boolean
        viceVersaTo:
          type: integer
      required:
        - id
        - cn
        - desc
      type: object
    PersonRevisionWikiInfo:
      properties:
        extra:
          properties:
            img:
              type: string
          type: object
        infobox:
          type: string
        name:
          type: string
        profession:
          properties:
            actor:
              type: boolean
            artist:
              type: boolean
            illustrator:
              type: boolean
            mangaka:
              type: boolean
            producer:
              type: boolean
            seiyu:
              type: boolean
            writer:
              type: boolean
          type: object
        summary:
          type: string
      required:
        - name
        - infobox
        - summary
        - profession
        - extra
      type: object
    PersonSearchFilter:
      properties:
        career:
          items:
            description: |-
              èŒä¸š, å¯ä»¥å¤šæ¬¡å‡ºç°ã€‚å¤šå€¼ä¹‹é—´ä¸º `ä¸”` å…³ç³»ï¼Œç”¨ `-` æ’é™¤èŒä¸šã€‚
                      æ”¯æŒçš„èŒä¸šæœ‰ï¼š
                      - producer: åˆ¶ä½œäºº
                      - mangaka: æ¼«ç”»å®¶
                      - artist: è‰ºæœ¯å®¶
                      - illustrator: æ’ç”»å®¶
                      - seiyu: å£°ä¼˜
                      - writer: ç¼–å‰§
                      - actor: æ¼”å‘˜
            example: seiyu
            type: string
          type: array
      type: object
    PersonType:
      description: |-
        äººç‰©ç±»å‹
          - 1 = ä¸ªäºº
          - 2 = å…¬å¸
          - 3 = ç»„åˆ
      enum:
        - 1
        - 2
        - 3
      type: integer
      x-enum-varnames:
        - Individual
        - Company
        - Group
      x-ms-enum:
        modelAsString: false
        name: PersonType
    PersonWikiInfo:
      properties:
        id:
          type: integer
        infobox:
          type: string
        name:
          type: string
        profession:
          properties:
            actor:
              type: boolean
            artist:
              type: boolean
            illustrator:
              type: boolean
            mangaka:
              type: boolean
            producer:
              type: boolean
            seiyu:
              type: boolean
            writer:
              type: boolean
          type: object
        summary:
          type: string
        typeID:
          $ref: '#/components/schemas/PersonType'
      required:
        - id
        - name
        - typeID
        - infobox
        - summary
        - profession
      type: object
    PersonWork:
      properties:
        positions:
          items:
            $ref: '#/components/schemas/SubjectStaffPosition'
          type: array
        subject:
          $ref: '#/components/schemas/SlimSubject'
      required:
        - subject
        - positions
      type: object
    Post:
      properties:
        content:
          type: string
        createdAt:
          type: integer
        creator:
          $ref: '#/components/schemas/SlimUser'
        creatorID:
          type: integer
        id:
          type: integer
        state:
          type: integer
        topic:
          $ref: '#/components/schemas/Topic'
      required:
        - id
        - creatorID
        - creator
        - createdAt
        - content
        - state
        - topic
      title: Post
      type: object
    Profile:
      properties:
        avatar:
          $ref: '#/components/schemas/Avatar'
        group:
          type: integer
        id:
          type: integer
        joinedAt:
          type: integer
        location:
          type: string
        nickname:
          type: string
        permissions:
          $ref: '#/components/schemas/Permissions'
        sign:
          type: string
        site:
          type: string
        username:
          type: string
      required:
        - id
        - username
        - nickname
        - avatar
        - sign
        - group
        - joinedAt
        - site
        - location
        - permissions
      title: Profile
      type: object
    Reaction:
      properties:
        users:
          items:
            $ref: '#/components/schemas/SimpleUser'
          type: array
        value:
          type: integer
      required:
        - users
        - value
      title: Reaction
      type: object
    RecentWikiChange:
      properties:
        persons:
          items:
            properties:
              createdAt:
                type: integer
              id:
                type: integer
            required:
              - id
              - createdAt
            type: object
          type: array
        subject:
          items:
            properties:
              createdAt:
                type: integer
              id:
                type: integer
            required:
              - id
              - createdAt
            type: object
          type: array
      required:
        - subject
        - persons
      type: object
    Reply:
      allOf:
        - $ref: '#/components/schemas/ReplyBase'
        - properties:
            replies:
              items:
                $ref: '#/components/schemas/ReplyBase'
              type: array
          required:
            - replies
          type: object
      title: Reply
    ReplyBase:
      properties:
        content:
          type: string
        createdAt:
          type: integer
        creator:
          $ref: '#/components/schemas/SlimUser'
        creatorID:
          type: integer
        id:
          type: integer
        reactions:
          items:
            $ref: '#/components/schemas/Reaction'
          type: array
        state:
          type: integer
      required:
        - id
        - creatorID
        - createdAt
        - content
        - state
      title: ReplyBase
      type: object
    ReportReason:
      description: |-
        ä¸¾æŠ¥åŸå› 
          - 1 = è¾±éª‚ã€äººèº«æ”»å‡»
          - 2 = åˆ·å±ã€æ— å…³å†…å®¹
          - 3 = æ”¿æ²»ç›¸å…³
          - 4 = è¿æ³•ä¿¡æ¯
          - 5 = æ³„éœ²éšç§
          - 6 = æ¶‰å«Œåˆ·åˆ†
          - 7 = å¼•æˆ˜
          - 8 = å¹¿å‘Š
          - 9 = å‰§é€
          - 99 = å…¶ä»–
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - 99
      type: integer
      x-enum-varnames:
        - Abuse
        - Spam
        - Political
        - Illegal
        - Privacy
        - CheatScore
        - Flame
        - Advertisement
        - Spoiler
        - Other
      x-ms-enum:
        modelAsString: false
        name: ReportReason
    ReportType:
      description: |-
        ä¸¾æŠ¥ç±»å‹
          - 6 = ç”¨æˆ·
          - 7 = å°ç»„è¯é¢˜
          - 8 = å°ç»„å›å¤
          - 9 = æ¡ç›®è¯é¢˜
          - 10 = æ¡ç›®å›å¤
          - 11 = ç« èŠ‚å›å¤
          - 12 = è§’è‰²å›å¤
          - 13 = äººç‰©å›å¤
          - 14 = æ—¥å¿—
          - 15 = æ—¥å¿—å›å¤
          - 16 = æ—¶é—´çº¿
          - 17 = æ—¶é—´çº¿å›å¤
          - 18 = ç›®å½•
          - 19 = ç›®å½•å›å¤
      enum:
        - 6
        - 7
        - 8
        - 9
        - 10
        - 11
        - 12
        - 13
        - 14
        - 15
        - 16
        - 17
        - 18
        - 19
      type: integer
      x-enum-varnames:
        - User
        - GroupTopic
        - GroupReply
        - SubjectTopic
        - SubjectReply
        - EpisodeReply
        - CharacterReply
        - PersonReply
        - Blog
        - BlogReply
        - Timeline
        - TimelineReply
        - Index
        - IndexReply
      x-ms-enum:
        modelAsString: false
        name: ReportType
    RevisionHistory:
      properties:
        commitMessage:
          type: string
        createdAt:
          description: unix timestamp seconds
          type: integer
        creator:
          properties:
            username:
              type: string
          required:
            - username
          type: object
        id:
          type: integer
        type:
          $ref: '#/components/schemas/RevisionType'
      required:
        - id
        - creator
        - type
        - commitMessage
        - createdAt
      type: object
    RevisionType:
      description: |
        ä¿®è®¢ç±»å‹
          - 1 = æ¡ç›®ç¼–è¾‘
          - 103 = æ¡ç›®é”å®š
          - 104 = æ¡ç›®è§£é”
          - 11 = æ¡ç›®åˆä½“
          - 12 = æ¡ç›®åˆ é™¤
          - 17 = æ¡ç›®å…³è”
          - 5 = æ¡ç›®->è§’è‰²å…³è”
          - 6 = æ¡ç›®->å£°ä¼˜å…³è”
          - 10 = æ¡ç›®->äººç‰©å…³è”
         
          - 2 = è§’è‰²ç¼–è¾‘
          - 13 = è§’è‰²åˆä½“
          - 14 = è§’è‰²åˆ é™¤
          - 4 = è§’è‰²->æ¡ç›®å…³è”
          - 7 = è§’è‰²->å£°ä¼˜å…³è”
         
          - 3 = äººç‰©ç¼–è¾‘
          - 15 = äººç‰©åˆä½“
          - 16 = äººç‰©åˆ é™¤
          - 8 = äººç‰©->å£°ä¼˜å…³è”
          - 9 = äººç‰©->æ¡ç›®å…³è”
         
          - 18 = ç« èŠ‚ç¼–è¾‘
          - 181 = ç« èŠ‚åˆä½“
          - 182 = ç« èŠ‚ç§»åŠ¨
          - 183 = ç« èŠ‚é”å®š
          - 184 = ç« èŠ‚è§£é”
          - 185 = ç« èŠ‚åˆ é™¤
      enum:
        - 1
        - 103
        - 104
        - 11
        - 12
        - 17
        - 5
        - 6
        - 10
        - 2
        - 13
        - 14
        - 4
        - 7
        - 3
        - 15
        - 16
        - 8
        - 9
        - 18
        - 181
        - 182
        - 183
        - 184
        - 185
      type: integer
      x-enum-varnames:
        - SubjectEdit
        - SubjectLock
        - SubjectUnlock
        - SubjectMerge
        - SubjectErase
        - SubjectRelation
        - SubjectCharacterRelation
        - SubjectCastRelation
        - SubjectPersonRelation
        - CharacterEdit
        - CharacterMerge
        - CharacterErase
        - CharacterSubjectRelation
        - CharacterCastRelation
        - PersonEdit
        - PersonMerge
        - PersonErase
        - PersonCastRelation
        - PersonSubjectRelation
        - EpisodeEdit
        - EpisodeMerge
        - EpisodeMove
        - EpisodeLock
        - EpisodeUnlock
        - EpisodeErase
      x-ms-enum:
        modelAsString: false
        name: RevisionType
    SearchCharacter:
      properties:
        filter:
          $ref: '#/components/schemas/CharacterSearchFilter'
        keyword:
          description: æœç´¢å…³é”®è¯
          type: string
      required:
        - keyword
      type: object
    SearchPerson:
      properties:
        filter:
          $ref: '#/components/schemas/PersonSearchFilter'
        keyword:
          description: æœç´¢å…³é”®è¯
          type: string
      required:
        - keyword
      type: object
    SearchSubject:
      properties:
        filter:
          $ref: '#/components/schemas/SubjectSearchFilter'
        keyword:
          description: æœç´¢å…³é”®è¯
          type: string
        sort:
          $ref: '#/components/schemas/SubjectSearchSort'
      required:
        - keyword
      type: object
    SimpleUser:
      properties:
        id:
          type: integer
        nickname:
          type: string
        username:
          type: string
      required:
        - id
        - username
        - nickname
      title: SimpleUser
      type: object
    SlimBlogEntry:
      properties:
        createdAt:
          type: integer
        icon:
          type: string
        id:
          type: integer
        public:
          type: boolean
        replies:
          type: integer
        summary:
          type: string
        title:
          type: string
        type:
          type: integer
        uid:
          type: integer
        updatedAt:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - id
        - type
        - uid
        - title
        - icon
        - summary
        - replies
        - public
        - createdAt
        - updatedAt
      title: SlimBlogEntry
      type: object
    SlimCharacter:
      properties:
        comment:
          type: integer
        id:
          type: integer
        images:
          $ref: '#/components/schemas/PersonImages'
        info:
          type: string
        lock:
          type: boolean
        name:
          type: string
        nameCN:
          type: string
        nsfw:
          type: boolean
        role:
          type: integer
      required:
        - id
        - name
        - nameCN
        - role
        - info
        - comment
        - lock
        - nsfw
      title: SlimCharacter
      type: object
    SlimGroup:
      properties:
        accessible:
          type: boolean
        createdAt:
          type: integer
        creatorID:
          type: integer
        icon:
          $ref: '#/components/schemas/Avatar'
        id:
          type: integer
        members:
          type: integer
        name:
          type: string
        nsfw:
          type: boolean
        title:
          type: string
      required:
        - id
        - name
        - nsfw
        - title
        - icon
        - creatorID
        - members
        - accessible
        - createdAt
      title: SlimGroup
      type: object
    SlimIndex:
      properties:
        createdAt:
          type: integer
        id:
          type: integer
        private:
          type: boolean
        stats:
          $ref: '#/components/schemas/IndexStats'
        title:
          type: string
        total:
          type: integer
        type:
          $ref: '#/components/schemas/IndexType'
        uid:
          type: integer
        updatedAt:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - id
        - uid
        - type
        - title
        - private
        - total
        - stats
        - createdAt
        - updatedAt
      title: SlimIndex
      type: object
    SlimPerson:
      properties:
        career:
          description: èŒä¸š
          example: producer
          items:
            type: string
          type: array
        comment:
          type: integer
        id:
          type: integer
        images:
          $ref: '#/components/schemas/PersonImages'
        info:
          type: string
        lock:
          type: boolean
        name:
          type: string
        nameCN:
          type: string
        nsfw:
          type: boolean
        type:
          type: integer
      required:
        - id
        - name
        - nameCN
        - type
        - info
        - career
        - comment
        - lock
        - nsfw
      title: SlimPerson
      type: object
    SlimSubject:
      example:
        id: 8
        images:
          common: https://lain.bgm.tv/pic/cover/c/c9/f0/8_wK0z3.jpg
          grid: https://lain.bgm.tv/pic/cover/g/c9/f0/8_wK0z3.jpg
          large: https://lain.bgm.tv/pic/cover/l/c9/f0/8_wK0z3.jpg
          medium: https://lain.bgm.tv/pic/cover/m/c9/f0/8_wK0z3.jpg
          small: https://lain.bgm.tv/pic/cover/s/c9/f0/8_wK0z3.jpg
        locked: false
        name: ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹ åé€†ã®ãƒ«ãƒ«ãƒ¼ã‚·ãƒ¥R2
        nameCN: Code Geass åå›çš„é²è·¯ä¿®R2
        nsfw: false
        type: 2
      properties:
        id:
          type: integer
        images:
          $ref: '#/components/schemas/SubjectImages'
        info:
          type: string
        interest:
          $ref: '#/components/schemas/SlimSubjectInterest'
        locked:
          type: boolean
        name:
          type: string
        nameCN:
          type: string
        nsfw:
          type: boolean
        rating:
          $ref: '#/components/schemas/SubjectRating'
        type:
          $ref: '#/components/schemas/SubjectType'
      required:
        - id
        - name
        - nameCN
        - type
        - info
        - rating
        - locked
        - nsfw
      title: SlimSubject
      type: object
    SlimSubjectInterest:
      properties:
        comment:
          type: string
        id:
          type: integer
        rate:
          type: integer
        tags:
          items:
            type: string
          type: array
        type:
          $ref: '#/components/schemas/CollectionType'
        updatedAt:
          type: integer
      required:
        - id
        - rate
        - type
        - comment
        - tags
        - updatedAt
      title: SlimSubjectInterest
      type: object
    SlimUser:
      properties:
        avatar:
          $ref: '#/components/schemas/Avatar'
        group:
          type: integer
        id:
          example: 1
          type: integer
        joinedAt:
          type: integer
        nickname:
          example: SaiğŸ––
          type: string
        sign:
          type: string
        username:
          example: sai
          type: string
      required:
        - id
        - username
        - nickname
        - avatar
        - group
        - sign
        - joinedAt
      title: SlimUser
      type: object
    Subject:
      example:
        airtime:
          date: '2008-04-06'
          month: 4
          weekday: 7
          year: 2008
        collection:
          '1': 622
          '2': 13216
          '3': 147
          '4': 224
          '5': 115
        eps: 25
        id: 8
        images:
          common: https://lain.bgm.tv/pic/cover/c/c9/f0/8_wK0z3.jpg
          grid: https://lain.bgm.tv/pic/cover/g/c9/f0/8_wK0z3.jpg
          large: https://lain.bgm.tv/pic/cover/l/c9/f0/8_wK0z3.jpg
          medium: https://lain.bgm.tv/pic/cover/m/c9/f0/8_wK0z3.jpg
          small: https://lain.bgm.tv/pic/cover/s/c9/f0/8_wK0z3.jpg
        infobox:
          Copyright:
            - v: ï¼ˆCï¼‰2006 SUNRISE inc./MBS
          ä¸­æ–‡å:
            - v: Code Geass åå›çš„é²è·¯ä¿®R2
          äººç‰©åŸæ¡ˆ:
            - v: CLAMP
          äººç‰©è®¾å®š:
            - v: æœ¨æ‘è²´å®
          å…¶ä»–:
            - v: ''
          å…¶ä»–ç”µè§†å°:
            - v: ''
          åˆ«å:
            - v: å›é€†çš„é²è·¯ä¿®R2
            - v: 'Code Geass: Hangyaku no Lelouch R2'
            - v: å›é€†çš„å‹’é²ä»€R2
            - v: å›é€†çš„é²é²ä¿®R2
            - v: ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹ åé€†ã®ãƒ«ãƒ«ãƒ¼ã‚·ãƒ¥R2
            - v: 'Code Geass: Lelouch of the Rebellion R2'
            - v: å›é€†çš„å‹’è·¯ä»€R2
          åŠ¨ç”»åˆ¶ä½œ:
            - v: ã‚µãƒ³ãƒ©ã‚¤ã‚º
          å®˜æ–¹ç½‘ç«™:
            - v: http://www.geass.jp/r2/
          å¯¼æ¼”:
            - v: è°·å£æ‚Ÿæœ—
          æ‘„å½±ç›‘ç£:
            - v: å¤§çŸ¢å‰µå¤ª
          æ’­æ”¾ç”µè§†å°:
            - v: æ¯æ—¥æ”¾é€
          æ’­æ”¾ç»“æŸ:
            - v: 2008å¹´9æœˆ28æ—¥
          æ”¾é€å¼€å§‹:
            - v: 2008å¹´4æœˆ6æ—¥
          æ”¾é€æ˜ŸæœŸ:
            - v: ''
          ç³»åˆ—æ„æˆ:
            - v: å¤§æ²³å†…ä¸€æ¥¼
          ç¾æœ¯ç›‘ç£:
            - v: è±æ²¼ç”±å…¸
          è‰²å½©è®¾è®¡:
            - v: å²©æ²¢ã‚Œã„å­
          è¯æ•°:
            - v: '25'
          éŸ³ä¹:
            - v: ä¸­å·å¹¸å¤ªéƒã€é»’çŸ³ã²ã¨ã¿
          éŸ³ä¹åˆ¶ä½œ:
            - v: AUDIO PLANNING U
          éŸ³å“ç›‘ç£:
            - v: æµ¦ä¸Šé–å¤«ã€äº•æ¾¤åŸº
        locked: false
        metaTags: []
        name: ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹ åé€†ã®ãƒ«ãƒ«ãƒ¼ã‚·ãƒ¥R2
        nameCN: Code Geass åå›çš„é²è·¯ä¿®R2
        nsfw: false
        platform:
          alias: tv
          enableHeader: true
          id: 1
          order: 0
          type: TV
          typeCN: TV
          wikiTpl: TVAnime
        rating:
          count:
            - 44
            - 15
            - 32
            - 66
            - 145
            - 457
            - 1472
            - 3190
            - 2640
            - 1377
          score: 8.19
          total: 9438
        redirect: 0
        series: false
        seriesEntry: 0
        summary: >-
          ã€€ã€€â€œä¸œäº¬å†³æˆ˜â€ä¸€å¹´åï¼Œå¸ƒé‡Œå¡”å°¼äºšå°‘å¹´é²è·¯ä¿®åœ¨11åŒºï¼ˆåŸæ—¥æœ¬å›½ï¼‰è¿‡ç€å¹³å‡¡çš„å­¦ç”Ÿç”Ÿæ´»ã€‚ä½†æ˜¯ï¼Œé²è·¯ä¿®ä¸å¼Ÿå¼Ÿç½—æ´›çš„ä¸€æ¬¡å‡ºè¡Œï¼Œé‡åˆ°äº†é»‘è‰²éª‘å£«å›¢çš„ä½™å…šã€‚åœ¨ä¸å°‘å¥³C.Cå†æ¬¡ç»“æˆå¥‘çº¦ä¹‹åï¼Œå°˜å°çš„è®°å¿†æ‘†åœ¨äº†é²è·¯ä¿®çš„é¢å‰ã€‚
        type: 2
        volumes: 0
      properties:
        airtime:
          $ref: '#/components/schemas/SubjectAirtime'
        collection:
          $ref: '#/components/schemas/SubjectCollection'
        eps:
          type: integer
        id:
          type: integer
        images:
          $ref: '#/components/schemas/SubjectImages'
        info:
          type: string
        infobox:
          $ref: '#/components/schemas/Infobox'
        interest:
          $ref: '#/components/schemas/SubjectInterest'
        locked:
          type: boolean
        metaTags:
          items:
            type: string
          type: array
        name:
          type: string
        nameCN:
          type: string
        nsfw:
          type: boolean
        platform:
          $ref: '#/components/schemas/SubjectPlatform'
        rating:
          $ref: '#/components/schemas/SubjectRating'
        redirect:
          type: integer
        series:
          type: boolean
        seriesEntry:
          type: integer
        summary:
          type: string
        tags:
          items:
            $ref: '#/components/schemas/SubjectTag'
          type: array
        type:
          $ref: '#/components/schemas/SubjectType'
        volumes:
          type: integer
      required:
        - airtime
        - collection
        - eps
        - id
        - infobox
        - info
        - metaTags
        - locked
        - name
        - nameCN
        - nsfw
        - platform
        - rating
        - redirect
        - series
        - seriesEntry
        - summary
        - type
        - volumes
        - tags
      title: Subject
      type: object
    SubjectAirtime:
      properties:
        date:
          type: string
        month:
          type: integer
        weekday:
          type: integer
        year:
          type: integer
      required:
        - date
        - month
        - weekday
        - year
      title: SubjectAirtime
      type: object
    SubjectBrowseSort:
      default: rank
      description: |-
        æ¡ç›®æµè§ˆæ’åºæ–¹å¼
          - rank = æ’å
          - trends = çƒ­åº¦
          - collects = æ”¶è—æ•°
          - date = å‘å¸ƒæ—¥æœŸ
          - title = æ ‡é¢˜
      enum:
        - rank
        - trends
        - collects
        - date
        - title
      type: string
      x-enum-varnames:
        - Rank
        - Trends
        - Collects
        - Date
        - Title
      x-ms-enum:
        modelAsString: true
        name: SubjectBrowseSort
    SubjectCharacter:
      properties:
        casts:
          items:
            $ref: '#/components/schemas/CharacterCast'
          type: array
        character:
          $ref: '#/components/schemas/SlimCharacter'
        order:
          type: integer
        type:
          type: integer
      required:
        - character
        - casts
        - type
        - order
      type: object
    SubjectCollect:
      properties:
        interest:
          $ref: '#/components/schemas/SlimSubjectInterest'
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - user
        - interest
      title: SubjectCollect
      type: object
    SubjectCollection:
      additionalProperties:
        type: integer
      title: SubjectCollection
      type: object
    SubjectEdit:
      example:
        infobox: |-
          {{Infobox animanga/TVAnime
          |ä¸­æ–‡å= æ²™ç›’
          |åˆ«å={
          }
          |è¯æ•°= 7
          |æ”¾é€å¼€å§‹= 0000-10-06
          |æ”¾é€æ˜ŸæœŸ= 
          |å®˜æ–¹ç½‘ç«™= 
          |æ’­æ”¾ç”µè§†å°= 
          |å…¶ä»–ç”µè§†å°= 
          |æ’­æ”¾ç»“æŸ= 
          |å…¶ä»–= 
          |Copyright= 
          |å¹³å°={
          [é¾Ÿå£³]
          [Xbox Series S]
          [Xbox Series X]
          [Xbox Series X/S]
          [PC]
          [Xbox Series X|S]
          }
          }}
        name: æ²™ç›’
        nsfw: false
        platform: 0
        summary: |-
          æœ¬æ¡ç›®æ˜¯ä¸€ä¸ªæ²™ç›’ï¼Œå¯ä»¥ç”¨äºå°è¯•bgmåŠŸèƒ½ã€‚

          æ™®é€šç»´åŸºäººå¯ä»¥éšæ„ç¼–è¾‘æ¡ç›®ä¿¡æ¯ä»¥åŠç›¸å…³å…³è”æŸ¥çœ‹ç¼–è¾‘æ•ˆæœï¼Œä½†æ˜¯è¯·ä¸è¦å®Œå…¨åˆ é™¤æ²™ç›’è¯´æ˜å¹¶ä¸”ä¸è¦å…³è”éæ²™ç›’æ¡ç›®/äººç‰©/è§’è‰²ã€‚

          https://bgm.tv/group/topic/366812#post_1923517
      properties:
        date:
          example: '0000-00-00'
          pattern: ^\d{4}-\d{2}-\d{2}$
          type: string
        infobox:
          minLength: 1
          type: string
        metaTags:
          items:
            type: string
          type: array
        name:
          minLength: 1
          type: string
        nsfw:
          type: boolean
        platform:
          type: integer
        series:
          type: boolean
        summary:
          type: string
      required:
        - name
        - infobox
        - platform
        - nsfw
        - metaTags
        - summary
      type: object
    SubjectImages:
      properties:
        common:
          type: string
        grid:
          type: string
        large:
          type: string
        medium:
          type: string
        small:
          type: string
      required:
        - large
        - common
        - medium
        - small
        - grid
      title: SubjectImages
      type: object
    SubjectInterest:
      properties:
        comment:
          type: string
        epStatus:
          type: integer
        id:
          type: integer
        private:
          type: boolean
        rate:
          type: integer
        tags:
          items:
            type: string
          type: array
        type:
          $ref: '#/components/schemas/CollectionType'
        updatedAt:
          type: integer
        volStatus:
          type: integer
      required:
        - id
        - rate
        - type
        - comment
        - tags
        - epStatus
        - volStatus
        - private
        - updatedAt
      title: SubjectInterest
      type: object
    SubjectInterestComment:
      properties:
        comment:
          type: string
        id:
          type: integer
        rate:
          type: integer
        reactions:
          items:
            $ref: '#/components/schemas/Reaction'
          type: array
        type:
          $ref: '#/components/schemas/CollectionType'
        updatedAt:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - id
        - user
        - type
        - rate
        - comment
        - updatedAt
      title: SubjectInterestComment
      type: object
    SubjectNew:
      properties:
        date:
          example: '0000-00-00'
          pattern: ^\d{4}-\d{2}-\d{2}$
          type: string
        infobox:
          minLength: 1
          type: string
        metaTags:
          items:
            type: string
          type: array
        name:
          minLength: 1
          type: string
        nsfw:
          type: boolean
        platform:
          type: integer
        series:
          type: boolean
        summary:
          type: string
        type:
          $ref: '#/components/schemas/SubjectType'
      required:
        - name
        - type
        - platform
        - infobox
        - nsfw
        - metaTags
        - summary
      type: object
    SubjectPlatform:
      properties:
        alias:
          type: string
        enableHeader:
          type: boolean
        id:
          type: integer
        order:
          type: integer
        searchString:
          type: string
        sortKeys:
          items:
            type: string
          type: array
        type:
          type: string
        typeCN:
          type: string
        wikiTpl:
          type: string
      required:
        - id
        - type
        - typeCN
        - alias
      title: SubjectPlatform
      type: object
    SubjectPosition:
      properties:
        position:
          $ref: '#/components/schemas/SubjectStaffPositionType'
        staffs:
          items:
            $ref: '#/components/schemas/SubjectPositionStaff'
          type: array
      required:
        - position
        - staffs
      type: object
    SubjectPositionStaff:
      properties:
        appearEps:
          type: string
        person:
          $ref: '#/components/schemas/SlimPerson'
        summary:
          type: string
      required:
        - person
        - summary
        - appearEps
      type: object
    SubjectRating:
      properties:
        count:
          items:
            type: integer
          type: array
        rank:
          type: integer
        score:
          type: number
        total:
          type: integer
      required:
        - rank
        - count
        - score
        - total
      title: SubjectRating
      type: object
    SubjectRec:
      properties:
        count:
          type: integer
        sim:
          type: number
        subject:
          $ref: '#/components/schemas/SlimSubject'
      required:
        - subject
        - sim
        - count
      title: SubjectRec
      type: object
    SubjectRelation:
      properties:
        order:
          type: integer
        relation:
          $ref: '#/components/schemas/SubjectRelationType'
        subject:
          $ref: '#/components/schemas/SlimSubject'
      required:
        - subject
        - relation
        - order
      type: object
    SubjectRelationType:
      properties:
        cn:
          type: string
        desc:
          type: string
        en:
          type: string
        id:
          type: integer
        jp:
          type: string
      required:
        - id
        - en
        - cn
        - jp
        - desc
      type: object
    SubjectReview:
      properties:
        entry:
          $ref: '#/components/schemas/SlimBlogEntry'
        id:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - id
        - user
        - entry
      title: SubjectReview
      type: object
    SubjectRevisionWikiInfo:
      properties:
        id:
          type: integer
        infobox:
          type: string
        metaTags:
          items:
            type: string
          type: array
        name:
          type: string
        summary:
          type: string
      required:
        - id
        - name
        - infobox
        - metaTags
        - summary
      type: object
    SubjectSearchFilter:
      properties:
        date:
          items:
            description: æ’­å‡ºæ—¥æœŸ/å‘å”®æ—¥æœŸï¼Œæ—¥æœŸå¿…éœ€ä¸º YYYY-MM-DD æ ¼å¼ã€‚å¤šå€¼ä¹‹é—´ä¸º `ä¸”` å…³ç³»ã€‚
            example: '>=2020-07-01'
            type: string
          type: array
        metaTags:
          items:
            description: å…¬å…±æ ‡ç­¾ã€‚å¤šä¸ªå€¼ä¹‹é—´ä¸º `ä¸”` å…³ç³»ã€‚å¯ä»¥ç”¨ `-` æ’é™¤æ ‡ç­¾ã€‚æ¯”å¦‚ `-ç§‘å¹»` å¯ä»¥æ’é™¤ç§‘å¹»æ ‡ç­¾ã€‚
            example: ç«¥å¹´
            type: string
          type: array
        nsfw:
          description: |-
            æ— æƒé™çš„ç”¨æˆ·ä¼šç›´æ¥å¿½ç•¥æ­¤å­—æ®µï¼Œä¸ä¼šè¿”å› R18 æ¡ç›®ã€‚
            `null` æˆ–è€… `true` ä¼šè¿”å›åŒ…å« R18 çš„æ‰€æœ‰æœç´¢ç»“æœã€‚
            `false` åªä¼šè¿”å›é R18 æ¡ç›®ã€‚
          type: boolean
        rank:
          items:
            description: ç”¨äºæœç´¢æŒ‡å®šæ’åçš„æ¡ç›®ï¼Œå¤šå€¼ä¹‹é—´ä¸º `ä¸”` å…³ç³»ã€‚
            example: '>10'
            type: string
          type: array
        rating:
          items:
            description: ç”¨äºæœç´¢æŒ‡å®šè¯„åˆ†çš„æ¡ç›®ï¼Œå¤šå€¼ä¹‹é—´ä¸º `ä¸”` å…³ç³»ã€‚
            example: '>=6'
            type: string
          type: array
        tags:
          items:
            description: æ ‡ç­¾ï¼Œå¯ä»¥å¤šæ¬¡å‡ºç°ã€‚å¤šå€¼ä¹‹é—´ä¸º `ä¸”` å…³ç³»ã€‚
            example: ç«¥å¹´
            type: string
          type: array
        type:
          items:
            $ref: '#/components/schemas/SubjectType'
          type: array
      type: object
    SubjectSearchSort:
      default: match
      description: |-
        æ¡ç›®æœç´¢æ’åºæ–¹å¼
          - match = åŒ¹é…ç¨‹åº¦
          - heat = æ”¶è—äººæ•°
          - rank = æ’åç”±é«˜åˆ°ä½
          - score = è¯„åˆ†
      enum:
        - match
        - heat
        - rank
        - score
      type: string
      x-enum-varnames:
        - Match
        - Heat
        - Rank
        - Score
      x-ms-enum:
        modelAsString: true
        name: SubjectSearchSort
    SubjectStaff:
      properties:
        positions:
          items:
            $ref: '#/components/schemas/SubjectStaffPosition'
          type: array
        staff:
          $ref: '#/components/schemas/SlimPerson'
      required:
        - staff
        - positions
      type: object
    SubjectStaffPosition:
      properties:
        appearEps:
          type: string
        summary:
          type: string
        type:
          $ref: '#/components/schemas/SubjectStaffPositionType'
      required:
        - type
        - summary
        - appearEps
      type: object
    SubjectStaffPositionType:
      properties:
        cn:
          type: string
        en:
          type: string
        id:
          type: integer
        jp:
          type: string
      required:
        - id
        - en
        - cn
        - jp
      type: object
    SubjectTag:
      properties:
        count:
          type: integer
        name:
          type: string
      required:
        - name
        - count
      title: SubjectTag
      type: object
    SubjectTopic:
      allOf:
        - $ref: '#/components/schemas/Topic'
        - properties:
            replies:
              items:
                $ref: '#/components/schemas/Reply'
              type: array
            subject:
              $ref: '#/components/schemas/SlimSubject'
          required:
            - subject
            - replies
          type: object
      title: SubjectTopic
    SubjectType:
      description: |-
        æ¡ç›®ç±»å‹
          - 1 = ä¹¦ç±
          - 2 = åŠ¨ç”»
          - 3 = éŸ³ä¹
          - 4 = æ¸¸æˆ
          - 6 = ä¸‰æ¬¡å…ƒ

          æ²¡æœ‰ 5
      enum:
        - 1
        - 2
        - 3
        - 4
        - 6
      type: integer
      x-enum-varnames:
        - Book
        - Anime
        - Music
        - Game
        - Real
      x-ms-enum:
        modelAsString: false
        name: SubjectType
    SubjectWikiInfo:
      properties:
        availablePlatform:
          items:
            $ref: '#/components/schemas/WikiPlatform'
          type: array
        id:
          type: integer
        infobox:
          type: string
        metaTags:
          items:
            type: string
          type: array
        name:
          type: string
        nsfw:
          type: boolean
        platform:
          type: integer
        series:
          type: boolean
        summary:
          type: string
        typeID:
          $ref: '#/components/schemas/SubjectType'
      required:
        - id
        - name
        - typeID
        - infobox
        - platform
        - availablePlatform
        - metaTags
        - summary
        - nsfw
      type: object
    Timeline:
      properties:
        batch:
          type: boolean
        cat:
          $ref: '#/components/schemas/TimelineCat'
        createdAt:
          type: integer
        id:
          type: integer
        memo:
          $ref: '#/components/schemas/TimelineMemo'
        reactions:
          items:
            $ref: '#/components/schemas/Reaction'
          type: array
        replies:
          type: integer
        source:
          $ref: '#/components/schemas/TimelineSource'
        type:
          type: integer
        uid:
          type: integer
        user:
          $ref: '#/components/schemas/SlimUser'
      required:
        - id
        - uid
        - cat
        - type
        - memo
        - batch
        - source
        - replies
        - createdAt
      title: Timeline
      type: object
    TimelineCat:
      description: |-
        æ—¶é—´çº¿ç±»å‹
          - 1 = æ—¥å¸¸è¡Œä¸º
          - 2 = ç»´åŸºæ“ä½œ
          - 3 = æ”¶è—æ¡ç›®
          - 4 = æ”¶è§†è¿›åº¦
          - 5 = çŠ¶æ€
          - 6 = æ—¥å¿—
          - 7 = ç›®å½•
          - 8 = äººç‰©
          - 9 = å¤©çª—
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
      type: integer
      x-enum-varnames:
        - Daily
        - Wiki
        - Subject
        - Progress
        - Status
        - Blog
        - Index
        - Mono
        - Doujin
      x-ms-enum:
        modelAsString: false
        name: TimelineCat
    TimelineMemo:
      properties:
        blog:
          $ref: '#/components/schemas/SlimBlogEntry'
        daily:
          properties:
            groups:
              items:
                $ref: '#/components/schemas/SlimGroup'
              type: array
            users:
              items:
                $ref: '#/components/schemas/SlimUser'
              type: array
          type: object
        index:
          $ref: '#/components/schemas/SlimIndex'
        mono:
          properties:
            characters:
              items:
                $ref: '#/components/schemas/SlimCharacter'
              type: array
            persons:
              items:
                $ref: '#/components/schemas/SlimPerson'
              type: array
          required:
            - characters
            - persons
          type: object
        progress:
          properties:
            batch:
              properties:
                epsTotal:
                  type: string
                epsUpdate:
                  type: integer
                subject:
                  $ref: '#/components/schemas/SlimSubject'
                volsTotal:
                  type: string
                volsUpdate:
                  type: integer
              required:
                - epsTotal
                - volsTotal
                - subject
              type: object
            single:
              properties:
                episode:
                  $ref: '#/components/schemas/Episode'
                subject:
                  $ref: '#/components/schemas/SlimSubject'
              required:
                - episode
                - subject
              type: object
          type: object
        status:
          properties:
            nickname:
              properties:
                after:
                  type: string
                before:
                  type: string
              required:
                - before
                - after
              type: object
            sign:
              type: string
            tsukkomi:
              type: string
          type: object
        subject:
          items:
            properties:
              collectID:
                type: integer
              comment:
                type: string
              rate:
                type: number
              subject:
                $ref: '#/components/schemas/SlimSubject'
            required:
              - subject
              - comment
            type: object
          type: array
        wiki:
          properties:
            subject:
              $ref: '#/components/schemas/SlimSubject'
          type: object
      title: TimelineMemo
      type: object
    TimelineSource:
      properties:
        name:
          type: string
        url:
          type: string
      required:
        - name
      title: TimelineSource
      type: object
    Topic:
      properties:
        createdAt:
          description: å‘å¸–æ—¶é—´ï¼Œunix time stamp in seconds
          type: integer
        creator:
          $ref: '#/components/schemas/SlimUser'
        creatorID:
          type: integer
        display:
          type: integer
        id:
          type: integer
        parentID:
          description: å°ç»„/æ¡ç›®ID
          type: integer
        replyCount:
          type: integer
        state:
          type: integer
        title:
          type: string
        updatedAt:
          description: æœ€åå›å¤æ—¶é—´ï¼Œunix time stamp in seconds
          type: integer
      required:
        - id
        - title
        - creatorID
        - parentID
        - replyCount
        - createdAt
        - updatedAt
        - state
        - display
      title: Topic
      type: object
    TrendingSubject:
      properties:
        count:
          type: integer
        subject:
          $ref: '#/components/schemas/SlimSubject'
      required:
        - subject
        - count
      type: object
    TurnstileToken:
      properties:
        turnstileToken:
          description: >-
            éœ€è¦
            [turnstile](https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/)

            next.bgm.tv åŸŸåå¯¹åº”çš„ site-key ä¸º `0x4AAAAAAABkMYinukE8nzYS`

            dev.bgm38.tv åŸŸåä½¿ç”¨æµ‹è¯•ç”¨çš„ site-key `1x00000000000000000000AA`
          type: string
      required:
        - turnstileToken
      type: object
    UpdateContent:
      properties:
        content:
          minLength: 1
          type: string
      required:
        - content
      type: object
    UpdateEpisodeProgress:
      properties:
        batch:
          description: æ˜¯å¦æ‰¹é‡æ›´æ–°(çœ‹åˆ°å½“å‰ç« èŠ‚), æ‰¹é‡æ›´æ–°æ—¶ type æ— æ•ˆ
          type: boolean
        type:
          $ref: '#/components/schemas/EpisodeCollectionStatus'
      type: object
    UpdateIndex:
      properties:
        desc:
          description: ç›®å½•æè¿°
          type: string
        private:
          description: ä»…è‡ªå·±å¯è§
          type: boolean
        title:
          description: ç›®å½•æ ‡é¢˜
          maxLength: 80
          minLength: 1
          type: string
      title: UpdateIndex
      type: object
    UpdateIndexRelated:
      properties:
        comment:
          type: string
        order:
          type: integer
      required:
        - order
        - comment
      title: UpdateIndexRelated
      type: object
    UpdateSubjectProgress:
      properties:
        epStatus:
          description: ä¹¦ç±æ¡ç›®ç« èŠ‚è¿›åº¦
          minimum: 0
          type: integer
        volStatus:
          description: ä¹¦ç±æ¡ç›®å·æ•°è¿›åº¦
          minimum: 0
          type: integer
      type: object
    UpdateTopic:
      properties:
        content:
          description: bbcode
          minLength: 1
          type: string
        title:
          minLength: 1
          type: string
      required:
        - title
        - content
      type: object
    User:
      properties:
        avatar:
          $ref: '#/components/schemas/Avatar'
        bio:
          type: string
        group:
          type: integer
        homepage:
          $ref: '#/components/schemas/UserHomepage'
        id:
          example: 1
          type: integer
        joinedAt:
          type: integer
        location:
          type: string
        networkServices:
          items:
            properties:
              account:
                type: string
              color:
                type: string
              name:
                type: string
              title:
                type: string
              url:
                type: string
            required:
              - name
              - title
              - url
              - color
              - account
            title: UserNetworkService
            type: object
          type: array
        nickname:
          example: SaiğŸ––
          type: string
        sign:
          type: string
        site:
          type: string
        stats:
          $ref: '#/components/schemas/UserStats'
        username:
          example: sai
          type: string
      required:
        - id
        - username
        - nickname
        - avatar
        - group
        - joinedAt
        - sign
        - site
        - location
        - bio
        - networkServices
        - homepage
        - stats
      title: User
      type: object
    UserCharacterContribution:
      properties:
        characterID:
          type: integer
        commitMessage:
          type: string
        createdAt:
          description: unix timestamp seconds
          type: integer
        id:
          type: integer
        name:
          type: string
        type:
          description: 2 = è§’è‰²ç¼–è¾‘
          type: integer
      required:
        - id
        - type
        - characterID
        - name
        - commitMessage
        - createdAt
      type: object
    UserHomepage:
      properties:
        left:
          items:
            $ref: '#/components/schemas/UserHomepageSection'
          type: array
        right:
          items:
            $ref: '#/components/schemas/UserHomepageSection'
          type: array
      required:
        - left
        - right
      title: UserHomepage
      type: object
    UserHomepageSection:
      description: ç”¨æˆ·æ—¶å…‰æœºæ¿å—
      enum:
        - anime
        - game
        - book
        - music
        - real
        - mono
        - blog
        - friend
        - group
        - index
      type: string
      x-enum-varnames:
        - Anime
        - Game
        - Book
        - Music
        - Real
        - Mono
        - Blog
        - Friend
        - Group
        - Index
      x-ms-enum:
        modelAsString: true
        name: UserHomepageSection
    UserIndexStats:
      properties:
        collect:
          type: integer
        create:
          type: integer
      required:
        - create
        - collect
      title: UserIndexStats
      type: object
    UserMonoCollectionStats:
      properties:
        character:
          type: integer
        person:
          type: integer
      required:
        - character
        - person
      title: UserMonoCollectionStats
      type: object
    UserNetworkService:
      properties:
        account:
          type: string
        color:
          type: string
        name:
          type: string
        title:
          type: string
        url:
          type: string
      required:
        - name
        - title
        - url
        - color
        - account
      title: UserNetworkService
      type: object
    UserPersonContribution:
      properties:
        commitMessage:
          type: string
        createdAt:
          description: unix timestamp seconds
          type: integer
        id:
          type: integer
        name:
          type: string
        personID:
          type: integer
        type:
          description: 3 = äººç‰©ç¼–è¾‘ï¼Œ15 = åˆå¹¶ï¼Œ16 = åˆ é™¤
          type: integer
      required:
        - id
        - type
        - personID
        - name
        - commitMessage
        - createdAt
      type: object
    UserStats:
      properties:
        blog:
          type: integer
        friend:
          type: integer
        group:
          type: integer
        index:
          $ref: '#/components/schemas/UserIndexStats'
        mono:
          $ref: '#/components/schemas/UserMonoCollectionStats'
        subject:
          $ref: '#/components/schemas/UserSubjectCollectionStats'
      required:
        - subject
        - mono
        - blog
        - friend
        - group
        - index
      title: UserStats
      type: object
    UserSubjectCollectionStats:
      additionalProperties:
        additionalProperties:
          type: integer
        type: object
      title: UserSubjectCollectionStats
      type: object
    UserSubjectContribution:
      properties:
        commitMessage:
          type: string
        createdAt:
          description: unix timestamp seconds
          type: integer
        id:
          type: integer
        name:
          type: string
        subjectID:
          type: integer
        type:
          description: ä¿®æ”¹ç±»å‹ã€‚`1` æ­£å¸¸ä¿®æ”¹ï¼Œ `11` åˆå¹¶ï¼Œ`103` é”å®š/è§£é” `104` æœªçŸ¥
          type: integer
      required:
        - id
        - type
        - subjectID
        - name
        - commitMessage
        - createdAt
      type: object
    WikiPlatform:
      properties:
        id:
          type: integer
        text:
          type: string
        wiki_tpl:
          type: string
      required:
        - id
        - text
      type: object
  securitySchemes:
    CookiesSession:
      description: ä½¿ç”¨ [login](#/auth/login) è°ƒç”¨ API ç™»å½•ï¼Œæˆ–è€… ä½¿ç”¨ [demo](/demo/login) ç™»å½•
      in: cookie
      name: chiiNextSessionID
      type: apiKey
    HTTPBearer:
      description: ä½¿ç”¨ [demo](/demo/login) ç™»å½•ååˆ›å»ºä¸ªäººä»¤ç‰Œ
      scheme: Bearer
      type: http
info:
  description: >-
    å…³äºè®¢é˜…é€šçŸ¥çš„ socket.io ç›¸å…³çš„æ–‡æ¡£åœ¨
    <https://github.com/bangumi/GraphQL/blob/master/docs/socket.io.md>
  title: bangumi private api
openapi: 3.0.3
paths:
  /p1/blocklist:
    get:
      operationId: getBlocklist
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  blocklist:
                    items:
                      type: integer
                    type: array
                required:
                  - blocklist
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„ç»äº¤ç”¨æˆ·åˆ—è¡¨
      tags:
        - relationship
  /p1/blocklist/{username}:
    delete:
      operationId: removeUserFromBlocklist
      parameters:
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  blocklist:
                    items:
                      type: integer
                    type: array
                required:
                  - blocklist
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: å–æ¶ˆä¸ç”¨æˆ·ç»äº¤
      tags:
        - relationship
    put:
      operationId: addUserToBlocklist
      parameters:
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  blocklist:
                    items:
                      type: integer
                    type: array
                required:
                  - blocklist
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ä¸ç”¨æˆ·ç»äº¤
      tags:
        - relationship
  /p1/blogs/-/comments/{commentID}:
    delete:
      operationId: deleteBlogComment
      parameters:
        - in: path
          name: commentID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤æ—¥å¿—çš„åæ§½
      tags:
        - blog
    put:
      operationId: updateBlogComment
      parameters:
        - in: path
          name: commentID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateContent'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘æ—¥å¿—çš„åæ§½
      tags:
        - blog
  /p1/blogs/{entryID}:
    get:
      operationId: getBlogEntry
      parameters:
        - in: path
          name: entryID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlogEntry'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ—¥å¿—è¯¦æƒ…
      tags:
        - blog
  /p1/blogs/{entryID}/comments:
    get:
      operationId: getBlogComments
      parameters:
        - in: path
          name: entryID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  allOf:
                    - properties:
                        content:
                          type: string
                        createdAt:
                          type: integer
                        creatorID:
                          type: integer
                        id:
                          type: integer
                        mainID:
                          type: integer
                        reactions:
                          items:
                            $ref: '#/components/schemas/Reaction'
                          type: array
                        relatedID:
                          type: integer
                        state:
                          type: integer
                        user:
                          $ref: '#/components/schemas/SlimUser'
                      required:
                        - id
                        - mainID
                        - creatorID
                        - relatedID
                        - createdAt
                        - content
                        - state
                      type: object
                    - properties:
                        replies:
                          items:
                            $ref: '#/components/schemas/CommentBase'
                          type: array
                      required:
                        - replies
                      type: object
                type: array
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ—¥å¿—çš„åæ§½ç®±
      tags:
        - blog
    post:
      operationId: createBlogComment
      parameters:
        - in: path
          name: entryID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CreateReply'
                - $ref: '#/components/schemas/TurnstileToken'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    description: new comment id
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºæ—¥å¿—çš„åæ§½
      tags:
        - blog
  /p1/blogs/{entryID}/photos:
    get:
      operationId: getBlogPhotos
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: entryID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/BlogPhoto'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ—¥å¿—çš„å›¾ç‰‡
      tags:
        - blog
  /p1/blogs/{entryID}/subjects:
    get:
      operationId: getBlogRelatedSubjects
      parameters:
        - in: path
          name: entryID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/SlimSubject'
                type: array
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ—¥å¿—çš„å…³è”æ¡ç›®
      tags:
        - blog
  /p1/calendar:
    get:
      operationId: getCalendar
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Calendar'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¯æ—¥æ”¾é€
      tags:
        - calendar
  /p1/characters/-/comments/{commentID}:
    delete:
      operationId: deleteCharacterComment
      parameters:
        - in: path
          name: commentID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤è§’è‰²çš„åæ§½
      tags:
        - character
    put:
      operationId: updateCharacterComment
      parameters:
        - in: path
          name: commentID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateContent'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘è§’è‰²çš„åæ§½
      tags:
        - character
  /p1/characters/{characterID}:
    get:
      operationId: getCharacter
      parameters:
        - in: path
          name: characterID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Character'
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–è§’è‰²
      tags:
        - character
  /p1/characters/{characterID}/casts:
    get:
      operationId: getCharacterCasts
      parameters:
        - in: query
          name: subjectType
          schema:
            $ref: '#/components/schemas/SubjectType'
        - description: 'è§’è‰²å‡ºåœºç±»å‹: ä¸»è§’ï¼Œé…è§’ï¼Œå®¢ä¸²'
          in: query
          name: type
          required: false
          schema:
            type: integer
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: characterID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/CharacterSubject'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–è§’è‰²å‡ºæ¼”ä½œå“
      tags:
        - character
  /p1/characters/{characterID}/collects:
    get:
      operationId: getCharacterCollects
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: characterID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/PersonCollect'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–è§’è‰²çš„æ”¶è—ç”¨æˆ·
      tags:
        - character
  /p1/characters/{characterID}/comments:
    get:
      operationId: getCharacterComments
      parameters:
        - in: path
          name: characterID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  allOf:
                    - properties:
                        content:
                          type: string
                        createdAt:
                          type: integer
                        creatorID:
                          type: integer
                        id:
                          type: integer
                        mainID:
                          type: integer
                        reactions:
                          items:
                            $ref: '#/components/schemas/Reaction'
                          type: array
                        relatedID:
                          type: integer
                        state:
                          type: integer
                        user:
                          $ref: '#/components/schemas/SlimUser'
                      required:
                        - id
                        - mainID
                        - creatorID
                        - relatedID
                        - createdAt
                        - content
                        - state
                      type: object
                    - properties:
                        replies:
                          items:
                            $ref: '#/components/schemas/CommentBase'
                          type: array
                      required:
                        - replies
                      type: object
                type: array
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–è§’è‰²çš„åæ§½ç®±
      tags:
        - character
    post:
      operationId: createCharacterComment
      parameters:
        - in: path
          name: characterID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CreateReply'
                - $ref: '#/components/schemas/TurnstileToken'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    description: new comment id
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºè§’è‰²çš„åæ§½
      tags:
        - character
  /p1/characters/{characterID}/indexes:
    get:
      operationId: getCharacterIndexes
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: characterID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimIndex'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–è§’è‰²å…³è”çš„ç›®å½•
      tags:
        - character
  /p1/characters/{characterID}/relations:
    get:
      operationId: getCharacterRelations
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: characterID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/CharacterRelation'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–è§’è‰²å…³è”è§’è‰²
      tags:
        - character
  /p1/clear-notify:
    post:
      description: |-
        æ ‡è®°é€šçŸ¥ä¸ºå·²è¯»

        ä¸ä¼ idæ—¶ä¼šæ¸…ç©ºæ‰€æœ‰æœªè¯»é€šçŸ¥
      operationId: clearNotice
      requestBody:
        content:
          application/json:
            examples:
              ClearAll:
                value: {}
              ClearSome:
                value:
                  id:
                    - 1
                    - 2
            schema:
              properties:
                id:
                  items:
                    type: integer
                  type: array
              type: object
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ ‡è®°é€šçŸ¥ä¸ºå·²è¯»
      tags:
        - misc
  /p1/collections/characters:
    get:
      operationId: getMyCharacterCollections
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Character'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„è§’è‰²æ”¶è—
      tags:
        - collection
  /p1/collections/characters/{characterID}:
    delete:
      operationId: deleteCharacterCollection
      parameters:
        - in: path
          name: characterID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤è§’è‰²æ”¶è—
      tags:
        - collection
    put:
      operationId: addCharacterCollection
      parameters:
        - in: path
          name: characterID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ–°å¢è§’è‰²æ”¶è—
      tags:
        - collection
  /p1/collections/episodes/{episodeID}:
    patch:
      operationId: updateEpisodeProgress
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateEpisodeProgress'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ›´æ–°ç« èŠ‚è¿›åº¦
      tags:
        - collection
  /p1/collections/indexes:
    get:
      operationId: getMyIndexCollections
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Index'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„ç›®å½•æ”¶è—
      tags:
        - collection
  /p1/collections/indexes/{indexID}:
    delete:
      operationId: deleteIndexCollection
      parameters:
        - in: path
          name: indexID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤ç›®å½•æ”¶è—
      tags:
        - collection
    put:
      operationId: addIndexCollection
      parameters:
        - in: path
          name: indexID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ–°å¢ç›®å½•æ”¶è—
      tags:
        - collection
  /p1/collections/persons:
    get:
      operationId: getMyPersonCollections
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Person'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„äººç‰©æ”¶è—
      tags:
        - collection
  /p1/collections/persons/{personID}:
    delete:
      operationId: deletePersonCollection
      parameters:
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤äººç‰©æ”¶è—
      tags:
        - collection
    put:
      operationId: addPersonCollection
      parameters:
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ–°å¢äººç‰©æ”¶è—
      tags:
        - collection
  /p1/collections/subjects:
    get:
      operationId: getMySubjectCollections
      parameters:
        - in: query
          name: subjectType
          schema:
            $ref: '#/components/schemas/SubjectType'
        - in: query
          name: type
          schema:
            $ref: '#/components/schemas/CollectionType'
        - description: èµ·å§‹æ—¶é—´æˆ³
          in: query
          name: since
          required: false
          schema:
            minimum: 0
            type: integer
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Subject'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„æ¡ç›®æ”¶è—
      tags:
        - collection
  /p1/collections/subjects/{subjectID}:
    patch:
      operationId: updateSubjectProgress
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSubjectProgress'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ›´æ–°æ¡ç›®è¿›åº¦
      tags:
        - collection
    put:
      operationId: updateSubjectCollection
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollectSubject'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ–°å¢æˆ–ä¿®æ”¹æ¡ç›®æ”¶è—
      tags:
        - collection
  /p1/debug:
    get:
      description: debug è·¯ç”±
      operationId: debug
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: debug
  /p1/episodes/-/comments/{commentID}:
    delete:
      operationId: deleteEpisodeComment
      parameters:
        - in: path
          name: commentID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤æ¡ç›®çš„ç« èŠ‚åæ§½
      tags:
        - episode
    put:
      operationId: updateEpisodeComment
      parameters:
        - in: path
          name: commentID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateContent'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘æ¡ç›®çš„ç« èŠ‚åæ§½
      tags:
        - episode
  /p1/episodes/-/comments/{commentID}/like:
    delete:
      operationId: unlikeEpisodeComment
      parameters:
        - in: path
          name: commentID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: å–æ¶ˆæ¡ç›®çš„ç« èŠ‚åæ§½ç‚¹èµ
      tags:
        - episode
    put:
      operationId: likeEpisodeComment
      parameters:
        - in: path
          name: commentID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                value:
                  type: integer
              required:
                - value
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç»™æ¡ç›®çš„ç« èŠ‚åæ§½ç‚¹èµ
      tags:
        - episode
  /p1/episodes/{episodeID}:
    get:
      operationId: getEpisode
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Episode'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç« èŠ‚ä¿¡æ¯
      tags:
        - episode
  /p1/episodes/{episodeID}/comments:
    get:
      operationId: getEpisodeComments
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  allOf:
                    - properties:
                        content:
                          type: string
                        createdAt:
                          type: integer
                        creatorID:
                          type: integer
                        id:
                          type: integer
                        mainID:
                          type: integer
                        reactions:
                          items:
                            $ref: '#/components/schemas/Reaction'
                          type: array
                        relatedID:
                          type: integer
                        state:
                          type: integer
                        user:
                          $ref: '#/components/schemas/SlimUser'
                      required:
                        - id
                        - mainID
                        - creatorID
                        - relatedID
                        - createdAt
                        - content
                        - state
                      type: object
                    - properties:
                        replies:
                          items:
                            $ref: '#/components/schemas/CommentBase'
                          type: array
                      required:
                        - replies
                      type: object
                type: array
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: è·å–æ¡ç›®çš„ç« èŠ‚åæ§½ç®±
      tags:
        - episode
    post:
      operationId: createEpisodeComment
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CreateReply'
                - $ref: '#/components/schemas/TurnstileToken'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    description: new comment id
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºæ¡ç›®çš„ç« èŠ‚åæ§½
      tags:
        - episode
  /p1/followers:
    get:
      operationId: getMyFollowers
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Friend'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„å…³æ³¨è€…åˆ—è¡¨
      tags:
        - relationship
  /p1/friendlist:
    get:
      operationId: getFriendlist
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  friendlist:
                    items:
                      type: integer
                    type: array
                required:
                  - friendlist
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„å¥½å‹ ID åˆ—è¡¨
      tags:
        - relationship
  /p1/friends:
    get:
      operationId: getMyFriends
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Friend'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å½“å‰ç”¨æˆ·çš„å¥½å‹åˆ—è¡¨
      tags:
        - relationship
  /p1/friends/{username}:
    delete:
      operationId: removeFriend
      parameters:
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: å–æ¶ˆå¥½å‹
      tags:
        - relationship
    put:
      operationId: addFriend
      parameters:
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ·»åŠ å¥½å‹
      tags:
        - relationship
  /p1/groups:
    get:
      operationId: getGroups
      parameters:
        - in: query
          name: mode
          schema:
            $ref: '#/components/schemas/GroupFilterMode'
        - in: query
          name: sort
          schema:
            $ref: '#/components/schemas/GroupSort'
        - in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            type: integer
        - in: query
          name: offset
          required: false
          schema:
            default: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimGroup'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å°ç»„åˆ—è¡¨
      tags:
        - group
  /p1/groups/-/posts/{postID}:
    delete:
      operationId: deleteGroupPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤å°ç»„è¯é¢˜å›å¤
      tags:
        - topic
    get:
      operationId: getGroupPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Post'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: è·å–å°ç»„è¯é¢˜å›å¤è¯¦æƒ…
      tags:
        - topic
    put:
      operationId: editGroupPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateContent'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘å°ç»„è¯é¢˜å›å¤
      tags:
        - topic
  /p1/groups/-/posts/{postID}/like:
    delete:
      operationId: unlikeGroupPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: å–æ¶ˆå°ç»„è¯é¢˜å›å¤ç‚¹èµ
      tags:
        - topic
    put:
      operationId: likeGroupPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                value:
                  type: integer
              required:
                - value
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç»™å°ç»„è¯é¢˜å›å¤ç‚¹èµ
      tags:
        - topic
  /p1/groups/-/topics:
    get:
      operationId: getRecentGroupTopics
      parameters:
        - in: query
          name: mode
          schema:
            $ref: '#/components/schemas/GroupTopicFilterMode'
        - in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            type: integer
        - in: query
          name: offset
          required: false
          schema:
            default: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/GroupTopic'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æœ€æ–°çš„å°ç»„è¯é¢˜
      tags:
        - group
  /p1/groups/-/topics/{topicID}:
    get:
      operationId: getGroupTopic
      parameters:
        - in: path
          name: topicID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupTopic'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å°ç»„è¯é¢˜è¯¦æƒ…
      tags:
        - topic
    put:
      description: ç¼–è¾‘å°ç»„è¯é¢˜
      operationId: editGroupTopic
      parameters:
        - in: path
          name: topicID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTopic'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      tags:
        - topic
  /p1/groups/-/topics/{topicID}/replies:
    post:
      operationId: createGroupReply
      parameters:
        - in: path
          name: topicID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CreateReply'
                - $ref: '#/components/schemas/TurnstileToken'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºå°ç»„è¯é¢˜å›å¤
      tags:
        - topic
  /p1/groups/{groupName}:
    get:
      operationId: getGroup
      parameters:
        - in: path
          name: groupName
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å°ç»„è¯¦æƒ…
      tags:
        - group
  /p1/groups/{groupName}/members:
    get:
      operationId: getGroupMembers
      parameters:
        - in: query
          name: role
          schema:
            $ref: '#/components/schemas/GroupMemberRole'
        - in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            type: integer
        - in: query
          name: offset
          required: false
          schema:
            default: 0
            type: integer
        - in: path
          name: groupName
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/GroupMember'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å°ç»„æˆå‘˜åˆ—è¡¨
      tags:
        - group
  /p1/groups/{groupName}/topics:
    get:
      operationId: getGroupTopics
      parameters:
        - in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            type: integer
        - in: query
          name: offset
          required: false
          schema:
            default: 0
            type: integer
        - in: path
          name: groupName
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Topic'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–å°ç»„è¯é¢˜åˆ—è¡¨
      tags:
        - group
    post:
      operationId: createGroupTopic
      parameters:
        - in: path
          name: groupName
          required: true
          schema:
            minLength: 1
            type: string
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CreateTopic'
                - $ref: '#/components/schemas/TurnstileToken'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    description: new topic id
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºå°ç»„è¯é¢˜
      tags:
        - group
  /p1/indexes:
    post:
      operationId: createIndex
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateIndex'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºç›®å½•
      tags:
        - index
  /p1/indexes/-/comments/{commentID}:
    delete:
      operationId: deleteIndexComment
      parameters:
        - in: path
          name: commentID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤ç›®å½•çš„è¯„è®º
      tags:
        - index
    put:
      operationId: updateIndexComment
      parameters:
        - in: path
          name: commentID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateContent'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘ç›®å½•çš„è¯„è®º
      tags:
        - index
  /p1/indexes/{indexID}:
    delete:
      operationId: deleteIndex
      parameters:
        - in: path
          name: indexID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤ç›®å½•
      tags:
        - index
    get:
      operationId: getIndex
      parameters:
        - in: path
          name: indexID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Index'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç›®å½•è¯¦æƒ…
      tags:
        - index
    patch:
      operationId: updateIndex
      parameters:
        - in: path
          name: indexID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateIndex'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ›´æ–°ç›®å½•
      tags:
        - index
  /p1/indexes/{indexID}/comments:
    get:
      operationId: getIndexComments
      parameters:
        - in: path
          name: indexID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  allOf:
                    - properties:
                        content:
                          type: string
                        createdAt:
                          type: integer
                        creatorID:
                          type: integer
                        id:
                          type: integer
                        mainID:
                          type: integer
                        reactions:
                          items:
                            $ref: '#/components/schemas/Reaction'
                          type: array
                        relatedID:
                          type: integer
                        state:
                          type: integer
                        user:
                          $ref: '#/components/schemas/SlimUser'
                      required:
                        - id
                        - mainID
                        - creatorID
                        - relatedID
                        - createdAt
                        - content
                        - state
                      type: object
                    - properties:
                        replies:
                          items:
                            $ref: '#/components/schemas/CommentBase'
                          type: array
                      required:
                        - replies
                      type: object
                type: array
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç›®å½•çš„è¯„è®º
      tags:
        - index
    post:
      operationId: createIndexComment
      parameters:
        - in: path
          name: indexID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CreateReply'
                - $ref: '#/components/schemas/TurnstileToken'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    description: new comment id
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºç›®å½•çš„è¯„è®º
      tags:
        - index
  /p1/indexes/{indexID}/related:
    get:
      operationId: getIndexRelated
      parameters:
        - in: query
          name: cat
          schema:
            $ref: '#/components/schemas/IndexRelatedCategory'
        - in: query
          name: type
          schema:
            $ref: '#/components/schemas/SubjectType'
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: indexID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/IndexRelated'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç›®å½•çš„å…³è”å†…å®¹
      tags:
        - index
    put:
      operationId: putIndexRelated
      parameters:
        - in: path
          name: indexID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateIndexRelated'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ·»åŠ ç›®å½•å…³è”å†…å®¹
      tags:
        - index
  /p1/indexes/{indexID}/related/{id}:
    delete:
      operationId: deleteIndexRelated
      parameters:
        - in: path
          name: indexID
          required: true
          schema:
            type: integer
        - in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤ç›®å½•å…³è”å†…å®¹
      tags:
        - index
    patch:
      operationId: patchIndexRelated
      parameters:
        - in: path
          name: indexID
          required: true
          schema:
            type: integer
        - in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateIndexRelated'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ›´æ–°ç›®å½•å…³è”å†…å®¹
      tags:
        - index
  /p1/login:
    post:
      description: >-
        éœ€è¦
        [turnstile](https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/)


        next.bgm.tv åŸŸåå¯¹åº”çš„ site-key ä¸º `0x4AAAAAAABkMYinukE8nzYS`


        dev.bgm38.tv åŸŸåä½¿ç”¨æµ‹è¯•ç”¨çš„ site-key `1x00000000000000000000AA`
      operationId: login
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequestBody'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SlimUser'
          description: Default Response
          headers:
            Set-Cookie:
              description: 'example: "chiiNextSessionID=12345abc"'
              schema:
                type: string
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: request validation error
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: éªŒè¯ç é”™è¯¯/è´¦å·å¯†ç ä¸åŒ¹é…
          headers:
            X-RateLimit-Limit:
              description: total limit per 10 minutes
              schema:
                type: integer
            X-RateLimit-Remaining:
              description: remaining rate limit
              schema:
                type: integer
            X-RateLimit-Reset:
              description: seconds to reset rate limit
              schema:
                type: integer
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: å¤±è´¥æ¬¡æ•°å¤ªå¤šï¼Œéœ€è¦è¿‡ä¸€æ®µæ—¶é—´å†é‡è¯•
          headers:
            X-RateLimit-Limit:
              description: limit per 10 minutes
              schema:
                type: integer
            X-RateLimit-Remaining:
              description: remaining rate limit
              schema:
                type: integer
            X-RateLimit-Reset:
              description: seconds to reset rate limit
              schema:
                type: integer
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - auth
  /p1/logout:
    post:
      description: ç™»å‡º
      operationId: logout
      requestBody:
        content:
          application/json:
            schema:
              properties: {}
              type: object
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Default Response
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æœªç™»å½•
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - auth
  /p1/me:
    get:
      operationId: getCurrentUser
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'
          description: Default Response
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
      summary: è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
      tags:
        - misc
  /p1/notify:
    get:
      operationId: listNotice
      parameters:
        - description: max 40
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 40
            type: integer
        - in: query
          name: unread
          required: false
          schema:
            type: boolean
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Notice'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æœªè¯»é€šçŸ¥
      tags:
        - misc
  /p1/persons/-/comments/{commentID}:
    delete:
      operationId: deletePersonComment
      parameters:
        - in: path
          name: commentID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤äººç‰©çš„åæ§½
      tags:
        - person
    put:
      operationId: updatePersonComment
      parameters:
        - in: path
          name: commentID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateContent'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘äººç‰©çš„åæ§½
      tags:
        - person
  /p1/persons/{personID}:
    get:
      operationId: getPerson
      parameters:
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Person'
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©
      tags:
        - person
  /p1/persons/{personID}/casts:
    get:
      operationId: getPersonCasts
      parameters:
        - in: query
          name: subjectType
          schema:
            $ref: '#/components/schemas/SubjectType'
        - description: 'è§’è‰²å‡ºåœºç±»å‹: ä¸»è§’ï¼Œé…è§’ï¼Œå®¢ä¸²'
          in: query
          name: type
          required: false
          schema:
            type: integer
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/PersonCharacter'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©çš„å‡ºæ¼”è§’è‰²
      tags:
        - person
  /p1/persons/{personID}/collects:
    get:
      operationId: getPersonCollects
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/PersonCollect'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©çš„æ”¶è—ç”¨æˆ·
      tags:
        - person
  /p1/persons/{personID}/comments:
    get:
      operationId: getPersonComments
      parameters:
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  allOf:
                    - properties:
                        content:
                          type: string
                        createdAt:
                          type: integer
                        creatorID:
                          type: integer
                        id:
                          type: integer
                        mainID:
                          type: integer
                        reactions:
                          items:
                            $ref: '#/components/schemas/Reaction'
                          type: array
                        relatedID:
                          type: integer
                        state:
                          type: integer
                        user:
                          $ref: '#/components/schemas/SlimUser'
                      required:
                        - id
                        - mainID
                        - creatorID
                        - relatedID
                        - createdAt
                        - content
                        - state
                      type: object
                    - properties:
                        replies:
                          items:
                            $ref: '#/components/schemas/CommentBase'
                          type: array
                      required:
                        - replies
                      type: object
                type: array
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©çš„åæ§½ç®±
      tags:
        - person
    post:
      operationId: createPersonComment
      parameters:
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CreateReply'
                - $ref: '#/components/schemas/TurnstileToken'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    description: new comment id
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºäººç‰©çš„åæ§½
      tags:
        - person
  /p1/persons/{personID}/indexes:
    get:
      operationId: getPersonIndexes
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimIndex'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©å…³è”çš„ç›®å½•
      tags:
        - person
  /p1/persons/{personID}/relations:
    get:
      operationId: getPersonRelations
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/PersonRelation'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©å…³è”äººç‰©
      tags:
        - person
  /p1/persons/{personID}/works:
    get:
      operationId: getPersonWorks
      parameters:
        - in: query
          name: subjectType
          schema:
            $ref: '#/components/schemas/SubjectType'
        - description: èŒä½
          in: query
          name: position
          required: false
          schema:
            type: integer
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: personID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/PersonWork'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©çš„å‚ä¸ä½œå“
      tags:
        - person
  /p1/report:
    post:
      operationId: createReport
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateReport'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                required:
                  - message
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æŠ¥å‘Šç–‘è™‘
      tags:
        - user
  /p1/search/characters:
    post:
      operationId: searchCharacters
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchCharacter'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimCharacter'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æœç´¢è§’è‰²
      tags:
        - search
  /p1/search/persons:
    post:
      operationId: searchPersons
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchPerson'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimPerson'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æœç´¢äººç‰©
      tags:
        - search
  /p1/search/subjects:
    post:
      operationId: searchSubjects
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchSubject'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimSubject'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æœç´¢æ¡ç›®
      tags:
        - search
  /p1/subjects:
    get:
      operationId: getSubjects
      parameters:
        - in: query
          name: type
          schema:
            $ref: '#/components/schemas/SubjectType'
        - in: query
          name: sort
          schema:
            $ref: '#/components/schemas/SubjectBrowseSort'
        - description: min 1
          in: query
          name: page
          required: false
          schema:
            default: 1
            minimum: 1
            type: integer
        - description: >-
            æ¯ç§æ¡ç›®ç±»å‹åˆ†ç±»ä¸åŒï¼Œå…·ä½“å‚è€ƒ https://github.com/bangumi/common çš„
            subject_platforms.yaml
          in: query
          name: cat
          required: false
          schema:
            type: integer
        - description: æ˜¯å¦ä¸ºç³»åˆ—ï¼Œä»…å¯¹ä¹¦ç±ç±»å‹çš„æ¡ç›®æœ‰æ•ˆ
          in: query
          name: series
          required: false
          schema:
            type: boolean
        - description: å¹´ä»½
          in: query
          name: year
          required: false
          schema:
            type: integer
        - description: æœˆä»½
          in: query
          name: month
          required: false
          schema:
            type: integer
        - in: query
          name: tags
          required: false
          schema:
            items:
              description: æ ‡ç­¾ã€‚é»˜è®¤æŒ‰ wiki/meta æ ‡ç­¾æŸ¥è¯¢ï¼Œç»“åˆ tagsCat å¯åˆ‡æ¢ä¸ºç”¨æˆ·æ ‡ç­¾ã€‚
              type: string
            type: array
        - description: tags è¿‡æ»¤ç±»åˆ«ï¼šmeta=wiki æ ‡ç­¾ï¼ˆé»˜è®¤ï¼‰ï¼Œsubject=ç”¨æˆ·æ ‡ç­¾
          in: query
          name: tagsCat
          required: false
          schema:
            anyOf:
              - enum:
                  - meta
                type: string
              - enum:
                  - subject
                type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimSubject'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®åˆ—è¡¨
      tags:
        - subject
  /p1/subjects/-/collects/{collectID}/like:
    delete:
      operationId: unlikeSubjectCollect
      parameters:
        - in: path
          name: collectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: å–æ¶ˆæ¡ç›®æ”¶è—ç‚¹èµ
      tags:
        - subject
    put:
      operationId: likeSubjectCollect
      parameters:
        - in: path
          name: collectID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                value:
                  type: integer
              required:
                - value
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç»™æ¡ç›®æ”¶è—ç‚¹èµ
      tags:
        - subject
  /p1/subjects/-/posts/{postID}:
    delete:
      operationId: deleteSubjectPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤æ¡ç›®è®¨è®ºå›å¤
      tags:
        - topic
    get:
      operationId: getSubjectPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Post'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: è·å–æ¡ç›®è®¨è®ºå›å¤è¯¦æƒ…
      tags:
        - topic
    put:
      operationId: editSubjectPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateContent'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘æ¡ç›®è®¨è®ºå›å¤
      tags:
        - topic
  /p1/subjects/-/posts/{postID}/like:
    delete:
      operationId: unlikeSubjectPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: å–æ¶ˆæ¡ç›®è®¨è®ºå›å¤ç‚¹èµ
      tags:
        - topic
    put:
      operationId: likeSubjectPost
      parameters:
        - in: path
          name: postID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                value:
                  type: integer
              required:
                - value
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç»™æ¡ç›®è®¨è®ºå›å¤ç‚¹èµ
      tags:
        - topic
  /p1/subjects/-/topics:
    get:
      operationId: getRecentSubjectTopics
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectTopic'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æœ€æ–°çš„æ¡ç›®è®¨è®º
      tags:
        - subject
  /p1/subjects/-/topics/{topicID}:
    get:
      operationId: getSubjectTopic
      parameters:
        - in: path
          name: topicID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubjectTopic'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®è®¨è®ºè¯¦æƒ…
      tags:
        - topic
    put:
      operationId: updateSubjectTopic
      parameters:
        - in: path
          name: topicID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                content:
                  description: bbcode
                  minLength: 1
                  type: string
                title:
                  minLength: 1
                  type: string
              required:
                - title
                - content
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘è‡ªå·±åˆ›å»ºçš„æ¡ç›®è®¨è®º
      tags:
        - topic
  /p1/subjects/-/topics/{topicID}/replies:
    post:
      operationId: createSubjectReply
      parameters:
        - in: path
          name: topicID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CreateReply'
                - $ref: '#/components/schemas/TurnstileToken'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºæ¡ç›®è®¨è®ºå›å¤
      tags:
        - topic
  /p1/subjects/{subjectID}:
    get:
      operationId: getSubject
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subject'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®
      tags:
        - subject
  /p1/subjects/{subjectID}/characters:
    get:
      operationId: getSubjectCharacters
      parameters:
        - description: 'è§’è‰²å‡ºåœºç±»å‹: ä¸»è§’ï¼Œé…è§’ï¼Œå®¢ä¸²'
          in: query
          name: type
          required: false
          schema:
            type: integer
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectCharacter'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„è§’è‰²
      tags:
        - subject
  /p1/subjects/{subjectID}/collects:
    get:
      operationId: getSubjectCollects
      parameters:
        - in: query
          name: type
          schema:
            $ref: '#/components/schemas/CollectionType'
        - in: query
          name: mode
          schema:
            $ref: '#/components/schemas/FilterMode'
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            maximum: 500
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectCollect'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„æ”¶è—ç”¨æˆ·
      tags:
        - subject
  /p1/subjects/{subjectID}/comments:
    get:
      operationId: getSubjectComments
      parameters:
        - in: query
          name: type
          schema:
            $ref: '#/components/schemas/CollectionType'
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectInterestComment'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„åæ§½ç®±
      tags:
        - subject
  /p1/subjects/{subjectID}/episodes:
    get:
      operationId: getSubjectEpisodes
      parameters:
        - in: query
          name: type
          schema:
            $ref: '#/components/schemas/EpisodeType'
        - description: max 1000
          in: query
          name: limit
          required: false
          schema:
            default: 100
            maximum: 1000
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Episode'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„ç« èŠ‚
      tags:
        - subject
  /p1/subjects/{subjectID}/indexes:
    get:
      operationId: getSubjectIndexes
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimIndex'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®å…³è”çš„ç›®å½•
      tags:
        - subject
  /p1/subjects/{subjectID}/recs:
    get:
      operationId: getSubjectRecs
      parameters:
        - description: max 10
          in: query
          name: limit
          required: false
          schema:
            default: 10
            maximum: 10
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectRec'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„æ¨è
      tags:
        - subject
  /p1/subjects/{subjectID}/relations:
    get:
      operationId: getSubjectRelations
      parameters:
        - in: query
          name: type
          schema:
            $ref: '#/components/schemas/SubjectType'
        - description: æ˜¯å¦å•è¡Œæœ¬
          in: query
          name: offprint
          required: false
          schema:
            default: false
            type: boolean
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectRelation'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„å…³è”æ¡ç›®
      tags:
        - subject
  /p1/subjects/{subjectID}/reviews:
    get:
      operationId: getSubjectReviews
      parameters:
        - description: max 20
          in: query
          name: limit
          required: false
          schema:
            default: 5
            maximum: 20
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectReview'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„è¯„è®º
      tags:
        - subject
  /p1/subjects/{subjectID}/staffs/persons:
    get:
      operationId: getSubjectStaffPersons
      parameters:
        - description: 'äººç‰©èŒä½: ç›‘ç£ï¼ŒåŸæ¡ˆï¼Œè„šæœ¬,..'
          in: query
          name: position
          required: false
          schema:
            type: integer
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectStaff'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„åˆ¶ä½œäººå‘˜
      tags:
        - subject
  /p1/subjects/{subjectID}/staffs/positions:
    get:
      operationId: getSubjectStaffPositions
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectPosition'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®çš„åˆ¶ä½œäººå‘˜èŒä½
      tags:
        - subject
  /p1/subjects/{subjectID}/topics:
    get:
      operationId: getSubjectTopics
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/Topic'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®è®¨è®ºç‰ˆ
      tags:
        - subject
    post:
      operationId: createSubjectTopic
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CreateTopic'
                - $ref: '#/components/schemas/TurnstileToken'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    description: new topic id
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºæ¡ç›®è®¨è®º
      tags:
        - subject
  /p1/timeline:
    get:
      operationId: getTimeline
      parameters:
        - in: query
          name: mode
          schema:
            $ref: '#/components/schemas/FilterMode'
        - description: min 1, max 20
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 20
            minimum: 1
            type: integer
        - description: max timeline id to fetch from
          in: query
          name: until
          required: false
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/Timeline'
                type: array
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ—¶é—´çº¿
      tags:
        - timeline
    post:
      operationId: createTimelineSay
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CreateContent'
                - $ref: '#/components/schemas/TurnstileToken'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: å‘é€æ—¶é—´çº¿åæ§½
      tags:
        - timeline
  /p1/timeline/-/events:
    get:
      description: >-
        è¿™æ˜¯ä¸€ä¸ª SSE (Server-Sent Events) æµï¼Œä¸æ˜¯æ™®é€šçš„ JSON å“åº”ã€‚å®¢æˆ·ç«¯éœ€è¦ä½¿ç”¨ EventSource æˆ–ç±»ä¼¼çš„
        SSE å®¢æˆ·ç«¯æ¥è®¢é˜…æ­¤æ¥å£ã€‚æ¯ä¸ªäº‹ä»¶ä»¥ `data: {...}\n\n` æ ¼å¼å‘é€ã€‚
      operationId: getTimelineEvents
      parameters:
        - in: query
          name: cat
          schema:
            $ref: '#/components/schemas/TimelineCat'
        - in: query
          name: mode
          schema:
            $ref: '#/components/schemas/FilterMode'
      responses:
        '200':
          content:
            application/json:
              schema:
                description: SSE äº‹ä»¶æ•°æ®
                properties:
                  event:
                    description: "äº‹ä»¶ç±»å‹: 'connected' | 'timeline'"
                    type: string
                  timeline:
                    $ref: '#/components/schemas/Timeline'
                required:
                  - event
                type: object
          description: SSE äº‹ä»¶æ•°æ®
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ—¶é—´çº¿äº‹ä»¶æµ (SSE)
      tags:
        - timeline
  /p1/timeline/{timelineID}:
    delete:
      operationId: deleteTimeline
      parameters:
        - in: path
          name: timelineID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ é™¤æ—¶é—´çº¿
      tags:
        - timeline
  /p1/timeline/{timelineID}/like:
    delete:
      operationId: unlikeTimeline
      parameters:
        - in: path
          name: timelineID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: å–æ¶ˆæ—¶é—´çº¿åæ§½ç‚¹èµ
      tags:
        - timeline
    put:
      operationId: likeTimeline
      parameters:
        - in: path
          name: timelineID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                value:
                  type: integer
              required:
                - value
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç»™æ—¶é—´çº¿åæ§½ç‚¹èµ
      tags:
        - timeline
  /p1/timeline/{timelineID}/replies:
    get:
      operationId: getTimelineReplies
      parameters:
        - in: path
          name: timelineID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  allOf:
                    - properties:
                        content:
                          type: string
                        createdAt:
                          type: integer
                        creatorID:
                          type: integer
                        id:
                          type: integer
                        mainID:
                          type: integer
                        reactions:
                          items:
                            $ref: '#/components/schemas/Reaction'
                          type: array
                        relatedID:
                          type: integer
                        state:
                          type: integer
                        user:
                          $ref: '#/components/schemas/SlimUser'
                      required:
                        - id
                        - mainID
                        - creatorID
                        - relatedID
                        - createdAt
                        - content
                        - state
                      type: object
                    - properties:
                        replies:
                          items:
                            $ref: '#/components/schemas/CommentBase'
                          type: array
                      required:
                        - replies
                      type: object
                type: array
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ—¶é—´çº¿å›å¤
      tags:
        - timeline
    post:
      operationId: createTimelineReply
      parameters:
        - in: path
          name: timelineID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CreateReply'
                - $ref: '#/components/schemas/TurnstileToken'
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                required:
                  - id
                type: object
          description: Default Response
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºæ—¶é—´çº¿å›å¤
      tags:
        - timeline
  /p1/trending/subjects:
    get:
      operationId: getTrendingSubjects
      parameters:
        - in: query
          name: type
          schema:
            $ref: '#/components/schemas/SubjectType'
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/TrendingSubject'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–çƒ­é—¨æ¡ç›®
      tags:
        - trending
  /p1/trending/subjects/topics:
    get:
      operationId: getTrendingSubjectTopics
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SubjectTopic'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–çƒ­é—¨æ¡ç›®è®¨è®º
      tags:
        - trending
  /p1/turnstile:
    get:
      description: ä¸ºé˜²æ­¢æ»¥ç”¨ï¼ŒRedirect URI ä¸ºç™½åå•æœºåˆ¶ï¼Œå¦‚éœ€æ·»åŠ è¯·æäº¤ PRã€‚
      operationId: getTurnstileToken
      parameters:
        - in: query
          name: theme
          required: false
          schema:
            enum:
              - dark
              - light
              - auto
        - in: query
          name: redirect_uri
          required: true
          schema:
            type: string
      responses:
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: è·å– Turnstile ä»¤ç‰Œ
      tags:
        - auth
  /p1/users/{username}:
    get:
      operationId: getUser
      parameters:
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·ä¿¡æ¯
      tags:
        - user
  /p1/users/{username}/blogs:
    get:
      operationId: getUserBlogs
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimBlogEntry'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·åˆ›å»ºçš„æ—¥å¿—
      tags:
        - user
  /p1/users/{username}/collections/characters:
    get:
      operationId: getUserCharacterCollections
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimCharacter'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·è§’è‰²æ”¶è—
      tags:
        - user
  /p1/users/{username}/collections/indexes:
    get:
      operationId: getUserIndexCollections
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimIndex'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·ç›®å½•æ”¶è—
      tags:
        - user
  /p1/users/{username}/collections/persons:
    get:
      operationId: getUserPersonCollections
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimPerson'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·äººç‰©æ”¶è—
      tags:
        - user
  /p1/users/{username}/collections/subjects:
    get:
      operationId: getUserSubjectCollections
      parameters:
        - in: query
          name: subjectType
          schema:
            $ref: '#/components/schemas/SubjectType'
        - in: query
          name: type
          schema:
            $ref: '#/components/schemas/CollectionType'
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimSubject'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·æ¡ç›®æ”¶è—
      tags:
        - user
  /p1/users/{username}/followers:
    get:
      operationId: getUserFollowers
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimUser'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·çš„å…³æ³¨è€…åˆ—è¡¨
      tags:
        - user
  /p1/users/{username}/friends:
    get:
      operationId: getUserFriends
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimUser'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·çš„å¥½å‹åˆ—è¡¨
      tags:
        - user
  /p1/users/{username}/groups:
    get:
      operationId: getUserGroups
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimGroup'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·åŠ å…¥çš„å°ç»„
      tags:
        - user
  /p1/users/{username}/indexes:
    get:
      operationId: getUserIndexes
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/SlimIndex'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·åˆ›å»ºçš„ç›®å½•
      tags:
        - user
  /p1/users/{username}/timeline:
    get:
      operationId: getUserTimeline
      parameters:
        - description: min 1, max 20
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 20
            minimum: 1
            type: integer
        - description: max timeline id to fetch from
          in: query
          name: until
          required: false
          schema:
            type: integer
        - in: path
          name: username
          required: true
          schema:
            minLength: 1
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/Timeline'
                type: array
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ·æ—¶é—´èƒ¶å›Š
      tags:
        - user
  /p1/wiki/characters/-/revisions/{revisionID}:
    get:
      operationId: getCharacterRevisionInfo
      parameters:
        - in: path
          name: revisionID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CharacterRevisionWikiInfo'
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–è§’è‰²å†å²ç‰ˆæœ¬ wiki ä¿¡æ¯
      tags:
        - wiki
  /p1/wiki/characters/{characterID}:
    get:
      operationId: getCharacterWikiInfo
      parameters:
        - in: path
          name: characterID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CharacterWikiInfo'
          description: Default Response
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–è§’è‰²å½“å‰çš„ wiki ä¿¡æ¯
      tags:
        - wiki
    patch:
      operationId: patchCharacterInfo
      parameters:
        - in: path
          name: characterID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: false
              properties:
                character:
                  additionalProperties: false
                  properties:
                    infobox:
                      minLength: 1
                      type: string
                    name:
                      minLength: 1
                      type: string
                    summary:
                      type: string
                  type: object
                commitMessage:
                  minLength: 1
                  type: string
                expectedRevision:
                  additionalProperties: false
                  default: {}
                  properties:
                    infobox:
                      minLength: 1
                      type: string
                    name:
                      minLength: 1
                      type: string
                    summary:
                      type: string
                  type: object
              required:
                - commitMessage
                - expectedRevision
                - character
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘è§’è‰²
      tags:
        - wiki
  /p1/wiki/characters/{characterID}/history-summary:
    get:
      operationId: characterEditHistorySummary
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: characterID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/RevisionHistory'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–è§’è‰² wiki å†å²ç¼–è¾‘æ‘˜è¦
      tags:
        - wiki
  /p1/wiki/ep/{episodeID}:
    get:
      operationId: getEpisodeWikiInfo
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EpisodeWikiInfo'
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      tags:
        - wiki
    patch:
      operationId: patchEpisodeWikiInfo
      parameters:
        - in: path
          name: episodeID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            example:
              commitMessage: why this episode is edited
              episode:
                date: '2022-01-20'
                duration: '24:53'
                ep: 4
                name: name
                nameCN: ä¸­æ–‡å
                summary: a short description
                type: 0
              expectedRevision:
                name: old name
                nameCN: old cn name
            schema:
              properties:
                commitMessage:
                  type: string
                episode:
                  properties:
                    date:
                      description: YYYY-MM-DD
                      example: '2022-02-02'
                      pattern: ^\d{4}-\d{2}-\d{2}$
                      type: string
                    disc:
                      type: number
                    duration:
                      example: '24:53'
                      type: string
                    ep:
                      type: number
                    name:
                      type: string
                    nameCN:
                      type: string
                    subjectID:
                      type: integer
                    summary:
                      type: string
                    type:
                      $ref: '#/components/schemas/EpisodeType'
                  type: object
                expectedRevision:
                  properties:
                    date:
                      type: string
                    duration:
                      type: string
                    name:
                      type: string
                    nameCN:
                      type: string
                    summary:
                      type: string
                  type: object
              required:
                - commitMessage
                - episode
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: invalid input
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      tags:
        - wiki
  /p1/wiki/lock/subjects:
    post:
      operationId: lockSubject
      requestBody:
        content:
          application/json:
            schema:
              properties:
                reason:
                  type: string
                subjectID:
                  example: 184017
                  type: integer
              required:
                - subjectID
                - reason
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - wiki
  /p1/wiki/persons/-/revisions/{revisionID}:
    get:
      operationId: getPersonRevisionInfo
      parameters:
        - in: path
          name: revisionID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PersonRevisionWikiInfo'
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©å†å²ç‰ˆæœ¬ wiki ä¿¡æ¯
      tags:
        - wiki
  /p1/wiki/persons/{personID}:
    get:
      operationId: getPersonWikiInfo
      parameters:
        - in: path
          name: personID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PersonWikiInfo'
          description: Default Response
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: äººç‰©ä¸å­˜åœ¨
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰©å½“å‰çš„ wiki ä¿¡æ¯
      tags:
        - wiki
    patch:
      operationId: patchPersonInfo
      parameters:
        - in: path
          name: personID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: false
              properties:
                commitMessage:
                  minLength: 1
                  type: string
                expectedRevision:
                  additionalProperties: false
                  default: {}
                  properties:
                    infobox:
                      minLength: 1
                      type: string
                    name:
                      minLength: 1
                      type: string
                    summary:
                      type: string
                  type: object
                person:
                  additionalProperties: false
                  properties:
                    infobox:
                      minLength: 1
                      type: string
                    name:
                      minLength: 1
                      type: string
                    summary:
                      type: string
                  type: object
              required:
                - commitMessage
                - expectedRevision
                - person
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ç¼–è¾‘äººç‰©
      tags:
        - wiki
  /p1/wiki/persons/{personID}/history-summary:
    get:
      operationId: personEditHistorySummary
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: personID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/RevisionHistory'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–äººç‰© wiki å†å²ç¼–è¾‘æ‘˜è¦
      tags:
        - wiki
  /p1/wiki/recent:
    get:
      description: è·å–æœ€è¿‘ä¸¤å¤©çš„wikiæ›´æ–°
      operationId: getRecentWiki
      parameters:
        - description: |-
            unix time stamp, only return last update time >= since

            only allow recent 2 days
          in: path
          name: since
          required: true
          schema:
            default: 0
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecentWikiChange'
          description: Default Response
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - wiki
  /p1/wiki/subjects:
    post:
      operationId: createNewSubject
      requestBody:
        content:
          application/json:
            schema:
              properties:
                date:
                  example: '0000-00-00'
                  pattern: ^\d{4}-\d{2}-\d{2}$
                  type: string
                infobox:
                  minLength: 1
                  type: string
                metaTags:
                  items:
                    type: string
                  type: array
                name:
                  minLength: 1
                  type: string
                nsfw:
                  type: boolean
                platform:
                  type: integer
                series:
                  type: boolean
                summary:
                  type: string
                type:
                  $ref: '#/components/schemas/SubjectType'
              required:
                - name
                - type
                - platform
                - infobox
                - nsfw
                - metaTags
                - summary
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  subjectID:
                    type: number
                required:
                  - subjectID
                type: object
          description: Default Response
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: åˆ›å»ºæ–°æ¡ç›®
      tags:
        - wiki
  /p1/wiki/subjects/-/revisions/{revisionID}:
    get:
      operationId: getSubjectRevisionInfo
      parameters:
        - in: path
          name: revisionID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubjectRevisionWikiInfo'
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®å†å²ç‰ˆæœ¬ wiki ä¿¡æ¯
      tags:
        - wiki
  /p1/wiki/subjects/{subjectID}:
    get:
      operationId: subjectInfo
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubjectWikiInfo'
          description: Default Response
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›®å½“å‰çš„ wiki ä¿¡æ¯
      tags:
        - wiki
    patch:
      operationId: patchSubjectInfo
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            example:
              commitMessage: ä¿®æ­£ç¬”è¯¯
              subject:
                infobox: |-
                  {{Infobox animanga/TVAnime
                  |ä¸­æ–‡å= æ²™ç›’
                  |åˆ«å={
                  }
                  |è¯æ•°= 7
                  |æ”¾é€å¼€å§‹= 0000-10-06
                  |æ”¾é€æ˜ŸæœŸ= 
                  |å®˜æ–¹ç½‘ç«™= 
                  |æ’­æ”¾ç”µè§†å°= 
                  |å…¶ä»–ç”µè§†å°= 
                  |æ’­æ”¾ç»“æŸ= 
                  |å…¶ä»–= 
                  |Copyright= 
                  |å¹³å°={
                  [é¾Ÿå£³]
                  [Xbox Series S]
                  [Xbox Series X]
                  [Xbox Series X/S]
                  [PC]
                  [Xbox Series X|S]
                  }
                  }}
            schema:
              properties:
                authorID:
                  description: >-
                    when header x-admin-token is provided, use this as author
                    id.
                  exclusiveMinimum: 0
                  type: integer
                commitMessage:
                  minLength: 1
                  type: string
                expectedRevision:
                  properties:
                    infobox:
                      anyOf:
                        - type: 'null'
                        - minLength: 1
                          type: string
                    metaTags:
                      anyOf:
                        - type: 'null'
                        - items:
                            type: string
                          type: array
                    name:
                      anyOf:
                        - type: 'null'
                        - minLength: 1
                          type: string
                    platform:
                      anyOf:
                        - type: 'null'
                        - type: integer
                    summary:
                      anyOf:
                        - type: 'null'
                        - minLength: 1
                          type: string
                  type: object
                subject:
                  properties:
                    date:
                      example: '0000-00-00'
                      pattern: ^\d{4}-\d{2}-\d{2}$
                      type: string
                    infobox:
                      minLength: 1
                      type: string
                    metaTags:
                      items:
                        type: string
                      type: array
                    name:
                      minLength: 1
                      type: string
                    nsfw:
                      type: boolean
                    platform:
                      type: integer
                    series:
                      type: boolean
                    summary:
                      type: string
                  type: object
              required:
                - commitMessage
                - subject
              type: object
        required: true
      responses:
        '200':
          description: Default Response
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      tags:
        - wiki
    put:
      description: éœ€è¦ `subjectWikiEdit` æƒé™
      operationId: putSubjectInfo
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            example:
              commitMessage: ä¿®æ­£ç¬”è¯¯
              subject:
                infobox: |-
                  {{Infobox animanga/TVAnime
                  |ä¸­æ–‡å= æ²™ç›’
                  |åˆ«å={
                  }
                  |è¯æ•°= 7
                  |æ”¾é€å¼€å§‹= 0000-10-06
                  |æ”¾é€æ˜ŸæœŸ= 
                  |å®˜æ–¹ç½‘ç«™= 
                  |æ’­æ”¾ç”µè§†å°= 
                  |å…¶ä»–ç”µè§†å°= 
                  |æ’­æ”¾ç»“æŸ= 
                  |å…¶ä»–= 
                  |Copyright= 
                  |å¹³å°={
                  [é¾Ÿå£³]
                  [Xbox Series S]
                  [Xbox Series X]
                  [Xbox Series X/S]
                  [PC]
                  [Xbox Series X|S]
                  }
                  }}
                name: æ²™ç›’
                nsfw: false
                platform: 0
                summary: |-
                  æœ¬æ¡ç›®æ˜¯ä¸€ä¸ªæ²™ç›’ï¼Œå¯ä»¥ç”¨äºå°è¯•bgmåŠŸèƒ½ã€‚

                  æ™®é€šç»´åŸºäººå¯ä»¥éšæ„ç¼–è¾‘æ¡ç›®ä¿¡æ¯ä»¥åŠç›¸å…³å…³è”æŸ¥çœ‹ç¼–è¾‘æ•ˆæœï¼Œä½†æ˜¯è¯·ä¸è¦å®Œå…¨åˆ é™¤æ²™ç›’è¯´æ˜å¹¶ä¸”ä¸è¦å…³è”éæ²™ç›’æ¡ç›®/äººç‰©/è§’è‰²ã€‚

                  https://bgm.tv/group/topic/366812#post_1923517
            schema:
              properties:
                commitMessage:
                  minLength: 1
                  type: string
                expectedRevision:
                  properties:
                    infobox:
                      anyOf:
                        - type: 'null'
                        - minLength: 1
                          type: string
                    metaTags:
                      anyOf:
                        - type: 'null'
                        - items:
                            type: string
                          type: array
                    name:
                      anyOf:
                        - type: 'null'
                        - minLength: 1
                          type: string
                    platform:
                      anyOf:
                        - type: 'null'
                        - type: integer
                    summary:
                      anyOf:
                        - type: 'null'
                        - minLength: 1
                          type: string
                  type: object
                subject:
                  $ref: '#/components/schemas/SubjectEdit'
              required:
                - commitMessage
                - subject
              type: object
        required: true
      responses:
        '200':
          description: Default Response
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      tags:
        - wiki
  /p1/wiki/subjects/{subjectID}/covers:
    get:
      operationId: listSubjectCovers
      parameters:
        - example: 184017
          in: path
          name: subjectID
          required: true
          schema:
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  covers:
                    items:
                      properties:
                        creator:
                          properties:
                            avatar:
                              $ref: '#/components/schemas/Avatar'
                            group:
                              type: integer
                            id:
                              example: 1
                              type: integer
                            joinedAt:
                              type: integer
                            nickname:
                              example: SaiğŸ––
                              type: string
                            sign:
                              type: string
                            username:
                              example: sai
                              type: string
                          required:
                            - id
                            - username
                            - nickname
                            - avatar
                            - group
                            - sign
                            - joinedAt
                          title: SlimUser
                          type: object
                        id:
                          type: integer
                        raw:
                          type: string
                        thumbnail:
                          type: string
                        voted:
                          type: boolean
                      required:
                        - id
                        - thumbnail
                        - raw
                        - creator
                        - voted
                      type: object
                    type: array
                  current:
                    properties:
                      id:
                        type: integer
                      raw:
                        type: string
                      thumbnail:
                        type: string
                    required:
                      - thumbnail
                      - raw
                      - id
                    type: object
                required:
                  - covers
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - wiki
    post:
      description: éœ€è¦ `subjectWikiEdit` æƒé™
      operationId: uploadSubjectCover
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                content:
                  description: base64 encoded raw bytes, 4mb size limit on **decoded** size
                  format: byte
                  type: string
              required:
                - content
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - wiki
  /p1/wiki/subjects/{subjectID}/covers/{imageID}/vote:
    delete:
      description: éœ€è¦ `subjectWikiEdit` æƒé™
      operationId: unvoteSubjectCover
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
        - in: path
          name: imageID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: æ’¤æ¶ˆæ¡ç›®å°é¢æŠ•ç¥¨
      tags:
        - wiki
    post:
      description: éœ€è¦ `subjectWikiEdit` æƒé™
      operationId: voteSubjectCover
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
        - in: path
          name: imageID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      summary: ä¸ºæ¡ç›®å°é¢æŠ•ç¥¨
      tags:
        - wiki
  /p1/wiki/subjects/{subjectID}/ep:
    patch:
      description: éœ€è¦ `epEdit` æƒé™ï¼Œä¸€æ¬¡æœ€å¤šå¯ä»¥ç¼–è¾‘ 20 ä¸ªç« èŠ‚
      operationId: patchEpisodes
      parameters:
        - example: 363612
          in: path
          name: subjectID
          required: true
          schema:
            minimum: 0
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                commitMessage:
                  type: string
                episodes:
                  items:
                    properties:
                      date:
                        description: YYYY-MM-DD
                        example: '2022-02-02'
                        pattern: ^\d{4}-\d{2}-\d{2}$
                        type: string
                      disc:
                        type: number
                      duration:
                        example: '24:53'
                        type: string
                      ep:
                        type: number
                      id:
                        type: integer
                      name:
                        type: string
                      nameCN:
                        type: string
                      summary:
                        type: string
                      type:
                        $ref: '#/components/schemas/EpisodeType'
                    required:
                      - id
                    type: object
                  type: array
                expectedRevision:
                  items:
                    properties:
                      date:
                        type: string
                      duration:
                        type: string
                      name:
                        type: string
                      nameCN:
                        type: string
                      summary:
                        type: string
                    type: object
                  type: array
              required:
                - commitMessage
                - episodes
              type: object
        required: true
      responses:
        '200':
          description: Default Response
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: æ‰¹é‡ç¼–è¾‘æ¡ç›®ç« èŠ‚
      tags:
        - wiki
    post:
      description: éœ€è¦ `epEdit` æƒé™ï¼Œä¸€æ¬¡æœ€å¤šå¯ä»¥æ·»åŠ  40 ä¸ªç« èŠ‚
      operationId: createEpisodes
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                episodes:
                  items:
                    properties:
                      date:
                        description: YYYY-MM-DD
                        example: '2022-02-02'
                        pattern: ^\d{4}-\d{2}-\d{2}$
                        type: string
                      disc:
                        type: number
                      duration:
                        example: '24:53'
                        type: string
                      ep:
                        type: number
                      name:
                        type: string
                      nameCN:
                        type: string
                      summary:
                        type: string
                      type:
                        $ref: '#/components/schemas/EpisodeType'
                    required:
                      - ep
                    type: object
                  type: array
              required:
                - episodes
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  episodeIDs:
                    items:
                      type: integer
                    type: array
                required:
                  - episodeIDs
                type: object
          description: Default Response
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: ä¸ºæ¡ç›®æ·»åŠ æ–°ç« èŠ‚
      tags:
        - wiki
  /p1/wiki/subjects/{subjectID}/history-summary:
    get:
      operationId: subjectEditHistorySummary
      parameters:
        - in: path
          name: subjectID
          required: true
          schema:
            minimum: 1
            type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/RevisionHistory'
                type: array
          description: Default Response
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–æ¡ç›® wiki å†å²ç¼–è¾‘æ‘˜è¦
      tags:
        - wiki
  /p1/wiki/unlock/subjects:
    post:
      operationId: unlockSubject
      requestBody:
        content:
          application/json:
            schema:
              properties:
                reason:
                  type: string
                subjectID:
                  example: 184017
                  type: integer
              required:
                - subjectID
                - reason
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties: {}
                type: object
          description: Default Response
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      tags:
        - wiki
  /p1/wiki/users/{username}/contributions/characters:
    get:
      operationId: getUserContributedCharacters
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/UserCharacterContribution'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ· wiki è§’è‰²ç¼–è¾‘è®°å½•
      tags:
        - wiki
  /p1/wiki/users/{username}/contributions/persons:
    get:
      operationId: getUserContributedPersons
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/UserPersonContribution'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ· wiki äººç‰©ç¼–è¾‘è®°å½•
      tags:
        - wiki
  /p1/wiki/users/{username}/contributions/subjects:
    get:
      operationId: getUserContributedSubjects
      parameters:
        - description: max 100
          in: query
          name: limit
          required: false
          schema:
            default: 20
            maximum: 100
            minimum: 1
            type: integer
        - description: min 0
          in: query
          name: offset
          required: false
          schema:
            default: 0
            minimum: 0
            type: integer
        - in: path
          name: username
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  data:
                    items:
                      $ref: '#/components/schemas/UserSubjectContribution'
                    type: array
                  total:
                    description: limit+offset ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»æ¡æ•°ï¼Œpage ä¸ºå‚æ•°çš„è¯·æ±‚è¡¨ç¤ºæ€»é¡µæ•°
                    type: integer
                required:
                  - data
                  - total
                type: object
          description: Default Response
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: default error response type
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: æ„æ–™ä¹‹å¤–çš„æœåŠ¡å™¨é”™è¯¯
      security:
        - CookiesSession: []
          HTTPBearer: []
      summary: è·å–ç”¨æˆ· wiki æ¡ç›®ç¼–è¾‘è®°å½•
      tags:
        - wiki
